import{X as n,af as i,U as a}from"./main-2adb6942.js";const{toString:c}=Object.prototype;function h(t,e){return c.call(t)===`[object ${e}]`}function o(t){return h(t,"String")}const l=["/404","/:id(\\d+)","/:all(.*)*","/login","/system/user","/system/setting"],d=["/drawing/drauu/:did(\\d+)"],p=n("tags",{state:()=>({tags:[],activeTag:""}),persist:{enabled:!0,strategies:[{storage:localStorage,paths:["tags","activeTag"]}]},getters:{hasEmpty(t){return t.tags.length===0},leastTwo(t){return t.tags.length>1},getActiveTag(t){return t.activeTag},getTags(t){return t.tags}},actions:{clear(){this.activeTag="",this.tags=[]},setActiveTag(t){this.activeTag=t},setTags(t){this.tags=i(t),console.log(i(t).length)},addTag(t){let e="";if(d.includes(t.path)){const s=Object.fromEntries(Object.entries(t.params).map(([r,g])=>[r,g]));o(s.did)&&(e=t.path.replace(":did(\\d+)",s.did))}else e=t.path;this.setActiveTag(e),!(l.includes(t.path)||this.tags.some(s=>s.path===e))&&this.setTags([...this.tags,{...t,path:e}])},removeOtherTag(t){t!==this.activeTag&&a.push(t),this.setTags(this.tags.filter(e=>e.path===t))},removeTag(t){if(t===this.activeTag){const e=this.tags.findIndex(s=>s.path===t);e>0?a.push(this.tags[e-1].path):a.push(this.tags[e+1].path)}this.setTags(this.tags.filter(e=>e.path!==t))}}});export{p as u};
