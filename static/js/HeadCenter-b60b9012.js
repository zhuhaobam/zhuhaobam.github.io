import{$ as K,Y as A,au as q,a5 as j,av as U,a4 as F,d as M,a0 as Y,r as y,a7 as I,G as z,M as W,aw as J,w as X,ap as Z,a3 as Q,aq as ee,ax as te,al as oe,ay as re,H as x,ar as se,az as ae,aA as ne,J as ie,o as le,c as de,b as k,e as ce,g as N,f as ue,S as V,t as fe,_ as ve}from"./main-8d0055c3.js";import{g as he}from"./assets-kit-59ffab7a.js";import{t as ge}from"./Tag-8d409911.js";import{N as me}from"./Ellipsis-af8c3046.js";import{_ as be}from"./Dropdown-cf4138a0.js";import"./Tooltip-7d960a50.js";import"./Popover-caca0807.js";import"./Follower-dbd56f85.js";import"./on-fonts-ready-1624eaef.js";import"./use-merged-state-dd3119ad.js";import"./use-compitable-ed0127da.js";const pe=!1,_e=(e={})=>{var n;const{root:i=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(n=e.threshold)!==null&&n!==void 0?n:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof i=="string"?document.querySelector(i):i)||document.documentElement})}},L=new WeakMap,H=new WeakMap,$=new WeakMap,ye=(e,n,i)=>{if(!e)return()=>{};const a=_e(n),{root:s}=a.options;let l;const d=L.get(s);d?l=d:(l=new Map,L.set(s,l));let c,r;l.has(a.hash)?(r=l.get(a.hash),r[1].has(e)||(c=r[0],r[1].add(e),c.observe(e))):(c=new IntersectionObserver(h=>{h.forEach(u=>{if(u.isIntersecting){const g=H.get(u.target),S=$.get(u.target);g&&g(),S&&(S.value=!0)}})},a.options),c.observe(e),r=[c,new Set([e])],l.set(a.hash,r));let v=!1;const b=()=>{v||(H.delete(e),$.delete(e),v=!0,r[1].has(e)&&(r[0].unobserve(e),r[1].delete(e)),r[1].size<=0&&l.delete(a.hash),l.size||L.delete(s))};return H.set(e,b),$.set(e,i),b},ze=K("n-avatar-group"),xe=A("avatar",`
 width: var(--n-merged-size);
 height: var(--n-merged-size);
 color: #FFF;
 font-size: var(--n-font-size);
 display: inline-flex;
 position: relative;
 overflow: hidden;
 text-align: center;
 border: var(--n-border);
 border-radius: var(--n-border-radius);
 --n-merged-color: var(--n-color);
 background-color: var(--n-merged-color);
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[q(j("&","--n-merged-color: var(--n-color-modal);")),U(j("&","--n-merged-color: var(--n-color-popover);")),j("img",`
 width: 100%;
 height: 100%;
 `),F("text",`
 white-space: nowrap;
 display: inline-block;
 position: absolute;
 left: 50%;
 top: 50%;
 `),A("icon",`
 vertical-align: bottom;
 font-size: calc(var(--n-merged-size) - 6px);
 `),F("text","line-height: 1.25")]),Se=Object.assign(Object.assign({},W.props),{size:[String,Number],src:String,circle:{type:Boolean,default:void 0},objectFit:String,round:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},onError:Function,fallbackSrc:String,intersectionObserverOptions:Object,lazy:Boolean,color:String}),Re=M({name:"Avatar",props:Se,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:i}=Y(e),a=y(!1);let s=null;const l=y(null),d=y(null),c=()=>{const{value:t}=l;if(t&&(s===null||s!==t.innerHTML)){s=t.innerHTML;const{value:o}=d;if(o){const{offsetWidth:_,offsetHeight:m}=o,{offsetWidth:f,offsetHeight:C}=t,R=.9,E=Math.min(_/f*R,m/C*R,1);t.style.transform=`translateX(-50%) translateY(-50%) scale(${E})`}}},r=I(ze,null),v=z(()=>{const{size:t}=e;if(t)return t;const{size:o}=r||{};return o||"medium"}),b=W("Avatar","-avatar",xe,J,e,n),h=I(ge,null),u=z(()=>{if(r)return!0;const{round:t,circle:o}=e;return t!==void 0||o!==void 0?t||o:h?h.roundRef.value:!1}),g=z(()=>r?!0:e.bordered||!1),S=t=>{if(!w.value)return;a.value=!0;const{onError:o}=e;o&&o(t)};X(()=>e.src,()=>a.value=!1);const T=z(()=>{const t=v.value,o=u.value,_=g.value,{color:m}=e,{self:{borderRadius:f,fontSize:C,color:R,border:E,colorModal:P,colorPopover:D},common:{cubicBezierEaseInOut:G}}=b.value;let O;return typeof t=="number"?O=`${t}px`:O=b.value.self[Z("height",t)],{"--n-font-size":C,"--n-border":_?E:"none","--n-border-radius":o?"50%":f,"--n-color":m||R,"--n-color-modal":m||P,"--n-color-popover":m||D,"--n-bezier":G,"--n-merged-size":`var(--n-avatar-size-override, ${O})`}}),p=i?Q("avatar",z(()=>{const t=v.value,o=u.value,_=g.value,{color:m}=e;let f="";return t&&(typeof t=="number"?f+=`a${t}`:f+=t[0]),o&&(f+="b"),_&&(f+="c"),m&&(f+=ee(m)),f}),T,e):void 0,w=y(!e.lazy);te(()=>{if(pe)return;let t;const o=oe(()=>{t==null||t(),t=void 0,e.lazy&&(t=ye(d.value,e.intersectionObserverOptions,w))});re(()=>{o(),t==null||t()})});const B=y(!e.lazy);return{textRef:l,selfRef:d,mergedRoundRef:u,mergedClsPrefix:n,fitTextTransform:c,cssVars:i?void 0:T,themeClass:p==null?void 0:p.themeClass,onRender:p==null?void 0:p.onRender,hasLoadError:a,handleError:S,shouldStartLoading:w,loaded:B,mergedOnLoad:t=>{const{onLoad:o}=e;o==null||o(t),B.value=!0}}},render(){var e,n;const{$slots:i,src:a,mergedClsPrefix:s,lazy:l,onRender:d,mergedOnLoad:c,shouldStartLoading:r,loaded:v,hasLoadError:b}=this;d==null||d();let h;const u=!v&&!b&&((n=(e=this.$slots).placeholder)===null||n===void 0?void 0:n.call(e));return this.hasLoadError?h=x("img",{src:this.fallbackSrc,style:{objectFit:this.objectFit}}):h=se(i.default,g=>{if(g)return x(ae,{onResize:this.fitTextTransform},{default:()=>x("span",{ref:"textRef",class:`${s}-avatar__text`},g)});if(a)return x("img",{loading:"eager",src:r||v?a:void 0,onLoad:c,"data-image-src":a,onError:this.handleError,style:[{objectFit:this.objectFit},u?{height:"0",width:"0",visibility:"hidden",position:"absolute"}:""]})}),x("span",{ref:"selfRef",class:[`${s}-avatar`,this.themeClass],style:this.cssVars},h,l&&u)}}),we={class:"avatar"},Ce=V(" Z "),Ee=M({name:"HeadCenter"}),Oe=M({...Ee,setup(e){const n=ne(),i=ie(),a=s=>{switch(s){case 1:i.push({name:"system-user"});break;case 2:i.push({name:"system-setting"});break;case 3:n.setToken(""),i.push({name:"login"});break;default:console.log("\u5934\u50CF\u4E0B\u62C9\u83DC\u5355\u6CA1\u6709\u5339\u914D")}};return(s,l)=>{const d=Re,c=me,r=be;return le(),de(r,{trigger:"hover",options:[{label:s.$t("page.user"),key:1},{label:s.$t("page.setting"),key:2},{label:s.$t("page.logout"),key:3}],onSelect:a},{default:k(()=>[ce("div",we,[N(d,{round:"",src:ue(he)("cafe.png")},{default:k(()=>[Ce]),_:1},8,["src"]),N(c,{style:{width:"50px"}},{default:k(()=>[V(fe(s.$t("project.default")),1)]),_:1})])]),_:1},8,["options"])}}});const Ne=ve(Oe,[["__scopeId","data-v-bb6aac40"]]);export{Ne as default};
