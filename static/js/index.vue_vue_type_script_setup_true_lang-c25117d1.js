import{_ as X}from"./fullscreen-outlined-2b9f9d81.js";import{O as Y,d as k,r as _,I as C,P as q,o as i,k as p,f as t,Q as K,l as Z,b as ee,s as oe,G as B,w as ne,h as x,e as w,g as a,N as b,t as d,R as A,S as te,T as R,c as O,i as I,U as re,V as N,J as le,W as se}from"./main-54bc6f8b.js";import{u as ae}from"./tags-e9953177.js";import{_ as ie}from"./Tag-13ba0fab.js";import{_ as ce}from"./Tooltip-3d933659.js";import{_ as ue}from"./Dropdown-7995447c.js";const de=Object.assign(Object.assign({},Y.props),{trigger:String,xScrollable:Boolean,onScroll:Function}),pe=k({name:"Scrollbar",props:de,setup(){const c=_(null);return Object.assign(Object.assign({},{scrollTo:(...o)=>{var l;(l=c.value)===null||l===void 0||l.scrollTo(o[0],o[1])},scrollBy:(...o)=>{var l;(l=c.value)===null||l===void 0||l.scrollBy(o[0],o[1])}}),{scrollbarInstRef:c})},render(){return C(q,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),he=pe,_e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ke=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M244 400L100 256l144-144"},null,-1),me=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M120 256h292"},null,-1),we=[ke,me],ge=k({name:"ArrowBackOutline",render:function(h,o){return i(),p("svg",_e,we)}}),fe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ve=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 244l144-144l144 144"},null,-1),xe=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M256 120v292"},null,-1),Ce=[ve,xe],be=k({name:"ArrowUp",render:function(h,o){return i(),p("svg",fe,Ce)}}),$e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Se=t("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1),Te=[Se],Me=k({name:"Close",render:function(h,o){return i(),p("svg",$e,Te)}}),je={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ye=K('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M432 320v112H320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.8 421.77L304 304"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M80 192V80h112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.2 90.23L208 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M320 80h112v112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.77 90.2L304 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M192 432H80V320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.23 421.8L208 304"></path>',8),Be=[ye],Ae=k({name:"Expand",render:function(h,o){return i(),p("svg",je,Be)}}),Re={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Oe=t("path",{d:"M320 146s24.36-12-64-12a160 160 0 1 0 160 160",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),Ie=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 58l80 80l-80 80"},null,-1),Ne=[Oe,Ie],Ve=k({name:"Refresh",render:function(h,o){return i(),p("svg",Re,Ne)}}),Le={"pt-5":"",pb7:"","pl-5":"",flex:"","flex-nowrap":""},De={key:0},Ge=k({__name:"index",emits:["fullScreenDo"],setup(c,{emit:h}){const{t:o}=Z(),l=()=>{h("fullScreenDo")},u=ae(),V=ee(),{activeTag:s,tags:g}=oe(u);console.log("A",s.value,g.value);const $=_([]),L=B(()=>g),D=B(()=>s);ne(u.tags,(e,n)=>{$.value=e,console.log("B",s.value,e)},{immediate:!0,deep:!0});const E=e=>{u.setActiveTag(e),R.push(e)},S=_([]),f=_(!1),T=_(0),M=_(0),j=_(),F=()=>{f.value=!1},U=e=>{f.value=!1;const n=j.value;n&&(String(e)==="tag.close.other"&&u.removeOtherTag(n.path),String(e)==="tag.close.me"&&u.removeTag(n.path),String(e)==="tag.fresh"&&V.setReload(),String(e)==="tag.open"&&(u.setActiveTag(n.path),R.push(n.path)),String(e)==="tag.full.screen"&&l())},v=e=>()=>C(b,null,{default:()=>C(e)}),z=async(e,n)=>{e.preventDefault(),f.value=!1,se().then(()=>{f.value=!0,T.value=e.clientX,M.value=e.clientY}),j.value=n,S.value=[{label:o("tag.open"),key:"tag.open",disabled:s.value===n.path,icon:v(be)},{label:o("tag.fresh"),key:"tag.fresh",disabled:s.value!==n.path,icon:v(Ve)},{label:o("tag.close.other"),key:"tag.close.other",disabled:s.value!==n.path||!u.leastTwo,icon:v(ge)},{label:o("tag.close.me"),key:"tag.close.me",disabled:s.value!==n.path||!u.leastTwo,icon:v(Me)},{label:o("tag.full.screen"),key:"tag.full.screen",disabled:s.value!==n.path,icon:v(Ae)}]};function H(e){return C(le(e))}return(e,n)=>{const P=X,G=ce,J=ie,Q=he,W=ue;return i(),p(A,null,[x(Q,{"x-scrollable":""},{default:w(()=>[t("div",Le,[x(G,{placement:"bottom"},{trigger:w(()=>[x(a(b),{size:"18","mx-3":"","my-4":"","cursor-pointer":"","hover:color-primary":"",onClick:n[0]||(n[0]=r=>l())},{default:w(()=>[x(P)]),_:1})]),default:w(()=>[t("span",null,d(e.$t("tag.full.screen")),1)]),_:1}),t("div",null,"A"+d(a(g).length)+"/",1),t("div",null,"AA"+d(a(s))+"/",1),t("div",null,"B"+d($.value.length)+"/",1),t("div",null,"C"+d(a(L).value.length)+"/",1),t("div",null,"CC"+d(a(D).value),1),(i(!0),p(A,null,te(a(g),r=>(i(),O(J,{key:r.path,"mx-3":"","cursor-pointer":"","hover:color-primary":"",type:a(s)===r.path?"primary":"default",closable:a(g).length>1,onClick:m=>E(r.path),onClose:N(m=>a(u).removeTag(r.path),["stop"]),onContextmenu:N(m=>z(m,r),["prevent"])},{icon:w(()=>[r.meta.icon?(i(),O(a(b),{key:0,component:H(r.meta.icon)},null,8,["component"])):I("",!0)]),default:w(()=>{var m,y;return[re(d(e.$t((m=r.meta.breadcrumb)!=null?m:"noting"))+" ",1),r.params&&r.params.did?(i(),p("span",De,"("+d((y=r.params.did)!=null?y:"")+")",1)):I("",!0)]}),_:2},1032,["type","closable","onClick","onClose","onContextmenu"]))),128))])]),_:1}),x(W,{placement:"bottom-start",trigger:"manual",x:T.value,y:M.value,options:S.value,show:f.value,"on-clickoutside":F,onSelect:U},null,8,["x","y","options","show"])],64)}}});export{Ge as _};
