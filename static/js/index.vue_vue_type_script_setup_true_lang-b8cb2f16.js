import{_ as X}from"./fullscreen-outlined-c9693891.js";import{O as Y,d as k,r as _,I as C,P as q,o as a,k as p,f as t,Q as K,l as Z,b as ee,s as oe,G as y,w as ne,h as x,e as w,g as s,N as b,t as d,R as B,S as te,T as R,c as N,i as O,U as re,V,J as le,W as se}from"./main-1ec89097.js";import{u as ae}from"./tags-101dca0f.js";import{_ as ie}from"./Tag-827697c6.js";import{_ as ce}from"./Tooltip-de52211e.js";import{_ as ue}from"./Dropdown-56cda5de.js";const de=Object.assign(Object.assign({},Y.props),{trigger:String,xScrollable:Boolean,onScroll:Function}),pe=k({name:"Scrollbar",props:de,setup(){const i=_(null);return Object.assign(Object.assign({},{scrollTo:(...o)=>{var l;(l=i.value)===null||l===void 0||l.scrollTo(o[0],o[1])},scrollBy:(...o)=>{var l;(l=i.value)===null||l===void 0||l.scrollBy(o[0],o[1])}}),{scrollbarInstRef:i})},render(){return C(q,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),he=pe,_e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ke=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M244 400L100 256l144-144"},null,-1),me=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M120 256h292"},null,-1),we=[ke,me],fe=k({name:"ArrowBackOutline",render:function(h,o){return a(),p("svg",_e,we)}}),ge={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ve=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 244l144-144l144 144"},null,-1),xe=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M256 120v292"},null,-1),Ce=[ve,xe],be=k({name:"ArrowUp",render:function(h,o){return a(),p("svg",ge,Ce)}}),$e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Se=t("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1),Te=[Se],Me=k({name:"Close",render:function(h,o){return a(),p("svg",$e,Te)}}),je={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ae=K('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M432 320v112H320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.8 421.77L304 304"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M80 192V80h112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.2 90.23L208 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M320 80h112v112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.77 90.2L304 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M192 432H80V320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.23 421.8L208 304"></path>',8),ye=[Ae],Be=k({name:"Expand",render:function(h,o){return a(),p("svg",je,ye)}}),Re={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ne=t("path",{d:"M320 146s24.36-12-64-12a160 160 0 1 0 160 160",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),Oe=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 58l80 80l-80 80"},null,-1),Ve=[Ne,Oe],Ie=k({name:"Refresh",render:function(h,o){return a(),p("svg",Re,Ve)}}),Ee={"pt-5":"",pb7:"","pl-5":"",flex:"","flex-nowrap":""},Le={key:0},Pe=k({__name:"index",emits:["fullScreenDo"],setup(i,{emit:h}){const{t:o}=Z(),l=()=>{h("fullScreenDo")},c=ae(),I=ee(),{activeTag:u,tags:f}=oe(c);console.log(u.value,f.value);const $=_([]),E=y(()=>f),L=y(()=>u);ne(c.tags,(e,n)=>{$.value=e},{immediate:!0,deep:!0});const D=e=>{c.setActiveTag(e),R.push(e)},S=_([]),g=_(!1),T=_(0),M=_(0),j=_(),W=()=>{g.value=!1},F=e=>{g.value=!1;const n=j.value;n&&(String(e)==="tag.close.other"&&c.removeOtherTag(n.path),String(e)==="tag.close.me"&&c.removeTag(n.path),String(e)==="tag.fresh"&&I.setReload(),String(e)==="tag.open"&&(c.setActiveTag(n.path),R.push(n.path)),String(e)==="tag.full.screen"&&l())},v=e=>()=>C(b,null,{default:()=>C(e)}),U=async(e,n)=>{e.preventDefault(),g.value=!1,se().then(()=>{g.value=!0,T.value=e.clientX,M.value=e.clientY}),j.value=n,S.value=[{label:o("tag.open"),key:"tag.open",disabled:u.value===n.path,icon:v(be)},{label:o("tag.fresh"),key:"tag.fresh",disabled:u.value!==n.path,icon:v(Ie)},{label:o("tag.close.other"),key:"tag.close.other",disabled:u.value!==n.path||!c.leastTwo,icon:v(fe)},{label:o("tag.close.me"),key:"tag.close.me",disabled:u.value!==n.path||!c.leastTwo,icon:v(Me)},{label:o("tag.full.screen"),key:"tag.full.screen",disabled:u.value!==n.path,icon:v(Be)}]};function z(e){return C(le(e))}return(e,n)=>{const H=X,P=ce,G=ie,J=he,Q=ue;return a(),p(B,null,[x(J,{"x-scrollable":""},{default:w(()=>[t("div",Ee,[x(P,{placement:"bottom"},{trigger:w(()=>[x(s(b),{size:"18","mx-3":"","my-4":"","cursor-pointer":"","hover:color-primary":"",onClick:n[0]||(n[0]=r=>l())},{default:w(()=>[x(H)]),_:1})]),default:w(()=>[t("span",null,d(e.$t("tag.full.screen")),1)]),_:1}),t("div",null,"AA"+d(s(f).length),1),t("div",null,"AA2"+d(s(u)),1),t("div",null,"NEWAA"+d($.value.length),1),t("div",null,"NEWCAA"+d(s(E).value.length),1),t("div",null,"NEWC2AA"+d(s(L).value),1),(a(!0),p(B,null,te(s(f),r=>(a(),N(G,{key:r.path,"mx-3":"","cursor-pointer":"","hover:color-primary":"",type:s(u)===r.path?"primary":"default",closable:s(f).length>1,onClick:m=>D(r.path),onClose:V(m=>s(c).removeTag(r.path),["stop"]),onContextmenu:V(m=>U(m,r),["prevent"])},{icon:w(()=>[r.meta.icon?(a(),N(s(b),{key:0,component:z(r.meta.icon)},null,8,["component"])):O("",!0)]),default:w(()=>{var m,A;return[re(d(e.$t((m=r.meta.breadcrumb)!=null?m:"noting"))+" ",1),r.params&&r.params.did?(a(),p("span",Le,"("+d((A=r.params.did)!=null?A:"")+")",1)):O("",!0)]}),_:2},1032,["type","closable","onClick","onClose","onContextmenu"]))),128))])]),_:1}),x(Q,{placement:"bottom-start",trigger:"manual",x:T.value,y:M.value,options:S.value,show:g.value,"on-clickoutside":W,onSelect:F},null,8,["x","y","options","show"])],64)}}});export{Pe as _};
