import{d as A,m as E,u as T,a as B,s as I,r as c,w as u,A as L,B as N,C as j,D as F,E as U,F as W,G as D,H as G,f as d,o as J,k as P,g as $,I as q,J as Q,N as X}from"./main-b7c9a53e.js";import{_ as Y}from"./Menu-72aaf16c.js";const te=A({__name:"index",props:{collapsedIconSize:{default:24},collapsedWidth:{default:48},iconSize:{default:20},indent:{default:32},rootIndent:{default:32}},setup(g){const o=g,{t:K}=E(),S=T(),x=B(),{locale:z,collapsed:r}=I(x),{theme:v,menuTheme:a}=I(S),p=c({}),m=c(0);u(r,(e,n)=>{if(r.value){const t=o.collapsedIconSize<a.value.minHeight?a.value.minHeight:o.collapsedIconSize+a.value.compensate;p.value={itemHeight:t+"px"},m.value=o.collapsedIconSize}else p.value={itemHeight:a.value.minHeight+"px"},m.value=a.value.minHeight},{immediate:!0,deep:!0});const w=L.map(e=>{var t;return((t=e==null?void 0:e.meta)==null?void 0:t.layout)===!1?e:N([e])[0]}),H=j(w),R=F(H),f=c([]);u(z,(e,n)=>{f.value=U(R,K)},{immediate:!0,deep:!0});const y=c(v!==null);u(v,(e,n)=>{y.value=e!==null},{immediate:!0,deep:!0});const s=W(),h=s.matched,_=c(s.name),O=(h&&h.length?h.map(e=>e.name):[]).filter(e=>e),i=D({openKeys:O}),C=G(()=>d(_));u(()=>s.fullPath,()=>{var t;const e=s.matched;i.openKeys=e.map(l=>l.name);const n=((t=s.meta)==null?void 0:t.activeMenu)||"";_.value=n||s.name});function M(e,n){/http(s)?:/.test(e)&&window.open(e)}function V(e){if(!e)return;const n=e.find(l=>i.openKeys.indexOf(l)===-1),t=k(n);i.openKeys=t?n?[n]:[]:e}function k(e){if(!e)return!1;const n=[];for(const{children:t,key:l}of d(f))t&&t.length&&n.push(l);return n.includes(e)}function b(e){return q(X,Q(e.menuRenderIcon))}return(e,n)=>{const t=Y;return J(),P("div",null,[$(t,{"theme-overrides":p.value,accordion:"",options:f.value,inverted:y.value,mode:"vertical",collapsed:d(r),"collapsed-width":o.collapsedWidth,"collapsed-icon-size":m.value,"icon-size":o.iconSize,indent:o.indent,"root-indent":o.rootIndent,"expanded-keys":i.openKeys,value:d(C),"render-icon":b,"onUpdate:value":M,"onUpdate:expandedKeys":V},null,8,["theme-overrides","options","inverted","collapsed","collapsed-width","collapsed-icon-size","icon-size","indent","root-indent","expanded-keys","value"])])}}});export{te as _};
