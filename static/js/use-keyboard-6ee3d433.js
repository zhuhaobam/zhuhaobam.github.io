import{a3 as y,bs as h,bt as m,b,aY as r,bu as w,aX as u,w as v}from"./main-2bbc1e4d.js";function E(c,n){let{target:e}=c;for(;e;){if(e.dataset&&e.dataset[n]!==void 0)return!0;e=e.parentElement}return!1}function M(c={},n){const e=y({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:i,keyup:d}=c,o=t=>{switch(t.key){case"Control":e.ctrl=!0;break;case"Meta":e.command=!0,e.win=!0;break;case"Shift":e.shift=!0;break;case"Tab":e.tab=!0;break}i!==void 0&&Object.keys(i).forEach(s=>{if(s!==t.key)return;const a=i[s];if(typeof a=="function")a(t);else{const{stop:l=!1,prevent:k=!1}=a;l&&t.stopPropagation(),k&&t.preventDefault(),a.handler(t)}})},f=t=>{switch(t.key){case"Control":e.ctrl=!1;break;case"Meta":e.command=!1,e.win=!1;break;case"Shift":e.shift=!1;break;case"Tab":e.tab=!1;break}d!==void 0&&Object.keys(d).forEach(s=>{if(s!==t.key)return;const a=d[s];if(typeof a=="function")a(t);else{const{stop:l=!1,prevent:k=!1}=a;l&&t.stopPropagation(),k&&t.preventDefault(),a.handler(t)}})},p=()=>{(n===void 0||n.value)&&(u("keydown",document,o),u("keyup",document,f)),n!==void 0&&v(n,t=>{t?(u("keydown",document,o),u("keyup",document,f)):(r("keydown",document,o),r("keyup",document,f))})};return h()?(m(p),b(()=>{(n===void 0||n.value)&&(r("keydown",document,o),r("keyup",document,f))})):p(),w(e)}export{E as h,M as u};
