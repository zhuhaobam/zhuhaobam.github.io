import{d as B,l as L,a as N,b as j,s as I,r as l,w as d,z as F,A as U,B as W,C as D,D as G,E as J,F as P,G as $,g as u,H as q,I as S,o as Q,k as X,h as Y,J as Z,K as ee,N as te}from"./main-2adb6942.js";import{u as ne}from"./tags-29261858.js";import{_ as oe}from"./Menu-42b0a7b6.js";const ie=B({__name:"index",props:{collapsedIconSize:{default:24},collapsedWidth:{default:48},iconSize:{default:20},indent:{default:32},rootIndent:{default:32}},setup(K){const s=K,{t:z}=L(),g=ne(),w=N(),O=j(),{locale:H,collapsed:r}=I(O),{theme:y,menuTheme:c}=I(w),p=l({}),m=l(0);d(r,(e,t)=>{if(r.value){const n=s.collapsedIconSize<c.value.minHeight?c.value.minHeight:s.collapsedIconSize+c.value.compensate;p.value={itemHeight:n+"px"},m.value=s.collapsedIconSize}else p.value={itemHeight:c.value.minHeight+"px"},m.value=c.value.minHeight},{immediate:!0,deep:!0});const M=F.map(e=>{var n;return((n=e==null?void 0:e.meta)==null?void 0:n.layout)===!1?e:U([e])[0]}),R=W(M),T=D(R),h=l([]);d(H,(e,t)=>{h.value=G(T,z)},{immediate:!0,deep:!0});const _=l(y!==null);d(y,(e,t)=>{_.value=e!==null},{immediate:!0,deep:!0});const o=J(),f=o.matched,x=l(o.name),k=(f&&f.length?f.map(e=>e.name):[]).filter(e=>e),i=P({openKeys:k}),C=$(()=>u(x));q(()=>{S(()=>{const e=o.matched,t=e[e.length-1];t.path.indexOf(":")!==-1&&(t.params=o.params),console.log("onMounted",e),g.addTag(t)})}),d(()=>o.fullPath,()=>{var n;const e=o.matched;i.openKeys=e.map(a=>a.name);const t=((n=o.meta)==null?void 0:n.activeMenu)||"";x.value=t||o.name,S(()=>{const a=o.matched,v=a[a.length-1];v.path.indexOf(":")!==-1&&(v.params=o.params),console.log("watch",a),g.addTag(v)})});function V(e,t){/http(s)?:/.test(e)&&window.open(e)}function b(e){if(!e)return;const t=e.find(a=>i.openKeys.indexOf(a)===-1),n=A(t);i.openKeys=n?t?[t]:[]:e}function A(e){if(!e)return!1;const t=[];for(const{children:n,key:a}of u(h))n&&n.length&&t.push(a);return t.includes(e)}function E(e){return Z(te,ee(e.menuRenderIcon))}return(e,t)=>{const n=oe;return Q(),X("div",null,[Y(n,{"theme-overrides":p.value,accordion:"",options:h.value,inverted:_.value,mode:"vertical",collapsed:u(r),"collapsed-width":s.collapsedWidth,"collapsed-icon-size":m.value,"icon-size":s.iconSize,indent:s.indent,"root-indent":s.rootIndent,"expanded-keys":i.openKeys,value:u(C),"render-icon":E,"onUpdate:value":V,"onUpdate:expandedKeys":b},null,8,["theme-overrides","options","inverted","collapsed","collapsed-width","collapsed-icon-size","icon-size","indent","root-indent","expanded-keys","value"])])}}});export{ie as _};
