import{_ as P}from"./fullscreen-outlined-804ad50b.js";import{p as Y,d as m,r as w,t as C,ac as q,e as r,v as p,x as c,ad as G,y as J,a2 as K,o as Q,i as W,X as Z,u as ee,h as b,g,j as i,f as y,N as M,z as S,l as $,I as O,ae as oe,C as te,af as A,ag as ne,ah as V,a5 as re,ai as se}from"./main-cd247074.js";import{_ as le}from"./Tag-1b706a2e.js";import{_ as ae}from"./Tooltip-110a10b5.js";import{_ as ie}from"./Dropdown-510aa6ee.js";const ce=Object.assign(Object.assign({},Y.props),{trigger:String,xScrollable:Boolean,onScroll:Function}),ue=m({name:"Scrollbar",props:ce,setup(){const u=w(null);return Object.assign(Object.assign({},{scrollTo:(...t)=>{var s;(s=u.value)===null||s===void 0||s.scrollTo(t[0],t[1])},scrollBy:(...t)=>{var s;(s=u.value)===null||s===void 0||s.scrollBy(t[0],t[1])}}),{scrollbarInstRef:u})},render(){return C(q,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),de=ue,pe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},he=c("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M244 400L100 256l144-144"},null,-1),_e=c("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M120 256h292"},null,-1),me=[he,_e],ke=m({name:"ArrowBackOutline",render:function(h,t){return r(),p("svg",pe,me)}}),ge={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},we=c("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 244l144-144l144 144"},null,-1),fe=c("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M256 120v292"},null,-1),ve=[we,fe],xe=m({name:"ArrowUp",render:function(h,t){return r(),p("svg",ge,ve)}}),be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ce=c("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1),ye=[Ce],Me=m({name:"Close",render:function(h,t){return r(),p("svg",be,ye)}}),Se={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},$e=G('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M432 320v112H320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.8 421.77L304 304"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M80 192V80h112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.2 90.23L208 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M320 80h112v112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.77 90.2L304 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M192 432H80V320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.23 421.8L208 304"></path>',8),je=[$e],Te=m({name:"Expand",render:function(h,t){return r(),p("svg",Se,je)}}),Be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Re=c("path",{d:"M320 146s24.36-12-64-12a160 160 0 1 0 160 160",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),Ne=c("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 58l80 80l-80 80"},null,-1),Ie=[Re,Ne],Oe=m({name:"Refresh",render:function(h,t){return r(),p("svg",Be,Ie)}}),Ae={flex:"","items-center":"","flex-nowrap":""},Ve={key:0},He=m({__name:"index",props:{screen:{default:"xl"}},emits:["full-screen-do"],setup(u,{emit:h}){const{t}=J(),s=K();Q(()=>{var _,x;const e=s.matched,o=e[e.length-1],d={path:o.path,params:s.params,breadcrumb:(_=o.meta.breadcrumb)!=null?_:"",icon:(x=o.meta.icon)!=null?x:""};a.addTag(d)});const l=W("provide-screen"),j=()=>{h("full-screen-do")},a=Z(),L=ee(),z=e=>{A.push(e)},T=w([]),f=w(!1),B=w(0),R=w(0),N=w(),D=()=>{f.value=!1},E=e=>{f.value=!1;const o=N.value;o&&(String(e)==="tag.close.other"&&a.removeOtherTag(o.path),String(e)==="tag.close.me"&&a.removeTag(o.path),String(e)==="tag.fresh"&&L.settingReload(),String(e)==="tag.open"&&A.push(o.path),String(e)==="tag.full.screen"&&j())},v=e=>()=>C(M,null,{default:()=>C(e)}),F=async(e,o)=>{e.preventDefault(),f.value=!1,se().then(()=>{f.value=!0,B.value=e.clientX,R.value=e.clientY}),N.value=o;const d=a.getActiveTag,_=[{label:t("tag.open"),key:"tag.open",disabled:d===o.path,icon:v(xe)},{label:t("tag.fresh"),key:"tag.fresh",disabled:d!==o.path,icon:v(Oe)},{label:t("tag.close.other"),key:"tag.close.other",disabled:d!==o.path||!a.leastTwo,icon:v(ke)},{label:t("tag.close.me"),key:"tag.close.me",disabled:d!==o.path||!a.leastTwo,icon:v(Me)}];(l==null?void 0:l.value)!=="xs"&&(l==null?void 0:l.value)!=="s"&&_.push({label:t("tag.full.screen"),key:"tag.full.screen",disabled:d!==o.path,icon:v(Te)}),T.value=_};function H(e){return C(re(e))}return(e,o)=>{const d=P,_=ae,x=le,U=de,X=ie;return r(),p(O,null,[c("div",{style:te(i(l)!=="xs"&&i(l)!=="s"?"":"margin: 11px 20px")},[b(U,{style:{width:"calc(100vw - 40px)"},"x-scrollable":""},{default:g(()=>[c("div",Ae,[i(l)!=="xs"&&i(l)!=="s"?(r(),y(_,{key:0,placement:"bottom"},{trigger:g(()=>[b(i(M),{size:"18","mx-3":"","my-4":"","cursor-pointer":"","hover:color-primary":"",onClick:o[0]||(o[0]=n=>j())},{default:g(()=>[b(d)]),_:1})]),default:g(()=>[c("span",null,S(e.$t("tag.full.screen")),1)]),_:1})):$("",!0),(r(!0),p(O,null,oe(i(a).getTags,n=>(r(),y(x,{key:n.path,"mx-3":"","cursor-pointer":"","hover:color-primary":"",type:i(a).getActiveTag===n.path?"primary":"default",closable:i(a).getTags.length>1,onClick:k=>z(n.path),onClose:V(k=>i(a).removeTag(n.path),["stop"]),onContextmenu:V(k=>F(k,n),["prevent"])},{icon:g(()=>[n.icon?(r(),y(i(M),{key:0,component:H(n.icon)},null,8,["component"])):$("",!0)]),default:g(()=>{var k,I;return[ne(S(e.$t((k=n.breadcrumb)!=null?k:"tag.default"))+" ",1),n.params&&n.params.did?(r(),p("span",Ve,"("+S((I=n.params.did)!=null?I:"")+")",1)):$("",!0)]}),_:2},1032,["type","closable","onClick","onClose","onContextmenu"]))),128))])]),_:1})],4),b(X,{placement:"bottom-start",trigger:"manual",x:B.value,y:R.value,options:T.value,show:f.value,"on-clickoutside":D,onSelect:E},null,8,["x","y","options","show"])],64)}}});export{He as _};
