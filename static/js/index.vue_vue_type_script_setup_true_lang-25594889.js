import{_ as Q}from"./fullscreen-outlined-dcdc97d7.js";import{O as W,d as h,r as k,I as C,P as X,o as a,l as d,f as r,Q as Y,m as q,F as G,b as K,s as Z,R as ee,h as v,e as m,g as u,N as $,t as x,S as B,T as oe,U as R,c as A,i as O,k as te,V as I,J as ne,W as re}from"./main-e332850a.js";import{u as se}from"./tags-4919076e.js";import{_ as le}from"./Tag-62f159d8.js";import{_ as ae}from"./Tooltip-75371c39.js";import{_ as ie}from"./Dropdown-9c51cbf3.js";const ce=Object.assign(Object.assign({},W.props),{trigger:String,xScrollable:Boolean,onScroll:Function}),ue=h({name:"Scrollbar",props:ce,setup(){const i=k(null);return Object.assign(Object.assign({},{scrollTo:(...o)=>{var s;(s=i.value)===null||s===void 0||s.scrollTo(o[0],o[1])},scrollBy:(...o)=>{var s;(s=i.value)===null||s===void 0||s.scrollBy(o[0],o[1])}}),{scrollbarInstRef:i})},render(){return C(X,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),de=ue,pe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},he=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M244 400L100 256l144-144"},null,-1),_e=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M120 256h292"},null,-1),me=[he,_e],ke=h({name:"ArrowBackOutline",render:function(p,o){return a(),d("svg",pe,me)}}),fe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ge=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 244l144-144l144 144"},null,-1),we=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M256 120v292"},null,-1),ve=[ge,we],xe=h({name:"ArrowUp",render:function(p,o){return a(),d("svg",fe,ve)}}),be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ce=r("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1),$e=[Ce],Se=h({name:"Close",render:function(p,o){return a(),d("svg",be,$e)}}),Me={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ye=Y('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M432 320v112H320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.8 421.77L304 304"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M80 192V80h112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.2 90.23L208 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M320 80h112v112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.77 90.2L304 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M192 432H80V320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.23 421.8L208 304"></path>',8),Te=[ye],je=h({name:"Expand",render:function(p,o){return a(),d("svg",Me,Te)}}),Be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Re=r("path",{d:"M320 146s24.36-12-64-12a160 160 0 1 0 160 160",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),Ae=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 58l80 80l-80 80"},null,-1),Oe=[Re,Ae],Ie=h({name:"Refresh",render:function(p,o){return a(),d("svg",Be,Oe)}}),Ne={"pt-5":"",pb7:"","pl-5":"",flex:"","flex-nowrap":""},Ve={key:0},He=h({__name:"index",emits:["fullScreenDo"],setup(i,{emit:p}){const{t:o}=q(),s=()=>{p("fullScreenDo")},f=G(),l=se(),N=K(),{activeTag:c,tags:b}=Z(l);console.log("A",c.value,b.value),ee(()=>{if(l.hasEmpty){const e=f.matched[f.matched.length-1];e.path.indexOf(":")!==-1&&(e.params=f.params),l.addTag(e),console.log("tag.hasEmpty",f.matched)}else console.log("tag.matched",f.matched)});const V=e=>{l.setActiveTag(e),R.push(e)},S=k([]),g=k(!1),M=k(0),y=k(0),T=k(),L=()=>{g.value=!1},D=e=>{g.value=!1;const t=T.value;t&&(String(e)==="tag.close.other"&&l.removeOtherTag(t.path),String(e)==="tag.close.me"&&l.removeTag(t.path),String(e)==="tag.fresh"&&N.setReload(),String(e)==="tag.open"&&(l.setActiveTag(t.path),R.push(t.path)),String(e)==="tag.full.screen"&&s())},w=e=>()=>C($,null,{default:()=>C(e)}),E=async(e,t)=>{e.preventDefault(),g.value=!1,re().then(()=>{g.value=!0,M.value=e.clientX,y.value=e.clientY}),T.value=t,S.value=[{label:o("tag.open"),key:"tag.open",disabled:c.value===t.path,icon:w(xe)},{label:o("tag.fresh"),key:"tag.fresh",disabled:c.value!==t.path,icon:w(Ie)},{label:o("tag.close.other"),key:"tag.close.other",disabled:c.value!==t.path||!l.leastTwo,icon:w(ke)},{label:o("tag.close.me"),key:"tag.close.me",disabled:c.value!==t.path||!l.leastTwo,icon:w(Se)},{label:o("tag.full.screen"),key:"tag.full.screen",disabled:c.value!==t.path,icon:w(je)}]};function F(e){return C(ne(e))}return(e,t)=>{const U=Q,z=ae,H=le,P=de,J=ie;return a(),d(B,null,[v(P,{"x-scrollable":""},{default:m(()=>[r("div",Ne,[v(z,{placement:"bottom"},{trigger:m(()=>[v(u($),{size:"18","mx-3":"","my-4":"","cursor-pointer":"","hover:color-primary":"",onClick:t[0]||(t[0]=n=>s())},{default:m(()=>[v(U)]),_:1})]),default:m(()=>[r("span",null,x(e.$t("tag.full.screen")),1)]),_:1}),r("div",null,"A"+x(u(b).length)+"/",1),r("div",null,"AA"+x(u(c))+"/",1),(a(!0),d(B,null,oe(u(b),n=>(a(),A(H,{key:n.path,"mx-3":"","cursor-pointer":"","hover:color-primary":"",type:u(c)===n.path?"primary":"default",closable:u(b).length>1,onClick:_=>V(n.path),onClose:I(_=>u(l).removeTag(n.path),["stop"]),onContextmenu:I(_=>E(_,n),["prevent"])},{icon:m(()=>[n.meta.icon?(a(),A(u($),{key:0,component:F(n.meta.icon)},null,8,["component"])):O("",!0)]),default:m(()=>{var _,j;return[te(x(e.$t((_=n.meta.breadcrumb)!=null?_:"noting"))+" ",1),n.params&&n.params.did?(a(),d("span",Ve,"("+x((j=n.params.did)!=null?j:"")+")",1)):O("",!0)]}),_:2},1032,["type","closable","onClick","onClose","onContextmenu"]))),128))])]),_:1}),v(J,{placement:"bottom-start",trigger:"manual",x:M.value,y:y.value,options:S.value,show:g.value,"on-clickoutside":L,onSelect:D},null,8,["x","y","options","show"])],64)}}});export{He as _};
