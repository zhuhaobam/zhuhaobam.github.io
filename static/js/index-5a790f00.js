import{al as Gt,c6 as Wt,r as D,c7 as Zt,O as Pe,m as v,n as U,P as Ne,an as at,bI as Jt,bJ as Qt,d as we,q as en,p as kt,bx as tn,c as N,U as nn,w as lt,ah as We,b as St,s as dt,ap as sn,t as I,as as rn,a7 as on,aF as He,aD as Ke,V as ut,e as ue,v as me,x as ce,aZ as rt,c8 as an,A as ln,B as ze,j as h,aW as dn,a2 as un,a3 as cn,i as hn,o as fn,h as M,g as $,br as Ue,bn as je,c9 as q,H as ct,ad as vn,af as O,N as pn,c5 as mn,f as gn,_ as wn}from"./main-69cbe56a.js";import{r as yn,c as xn}from"./requestAnimationFrameGrace-eaa77346.js";import{g as bn}from"./assets-kit-034e87c1.js";import{u as _n}from"./full-cde75d7d.js";import{u as kn}from"./use-merged-state-142c91b3.js";import{u as Je,V as Sn,a as Cn,b as Mn}from"./Follower-c603cdb4.js";import{_ as En}from"./Space-abb2e0bc.js";import{b as ht}from"./route-block-7ae06361.js";import"./next-frame-once-c806eabc.js";import"./on-fonts-ready-cc098bbd.js";import"./get-slot-6dd27322.js";const Pn=e=>{const t="rgba(0, 0, 0, .85)",s="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:n,primaryColor:r,baseColor:i,cardColor:d,modalColor:l,popoverColor:f,borderRadius:w,fontSize:z,opacityDisabled:E}=e;return Object.assign(Object.assign({},Wt),{fontSize:z,railColor:n,railColorHover:n,fillColor:r,fillColorHover:r,opacityDisabled:E,handleColor:"#FFF",dotColor:d,dotColorModal:l,dotColorPopover:f,handleBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowHover:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowActive:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowFocus:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",indicatorColor:t,indicatorBoxShadow:s,indicatorTextColor:i,indicatorBorderRadius:w,dotBorder:`2px solid ${n}`,dotBorderActive:`2px solid ${r}`,dotBoxShadow:""})},$n={name:"Slider",common:Gt,self:Pn},Dn=$n;function ft(e){return window.TouchEvent&&e instanceof window.TouchEvent}function vt(){const e=D(new Map),t=s=>n=>{e.value.set(s,n)};return Zt(()=>e.value.clear()),[e,t]}const Rn=Pe([v("slider",`
 display: block;
 padding: calc((var(--n-handle-size) - var(--n-rail-height)) / 2) 0;
 position: relative;
 z-index: 0;
 width: 100%;
 cursor: pointer;
 user-select: none;
 -webkit-user-select: none;
 `,[U("reverse",[v("slider-handles",[v("slider-handle-wrapper",`
 transform: translate(50%, -50%);
 `)]),v("slider-dots",[v("slider-dot",`
 transform: translateX(50%, -50%);
 `)]),U("vertical",[v("slider-handles",[v("slider-handle-wrapper",`
 transform: translate(-50%, -50%);
 `)]),v("slider-marks",[v("slider-mark",`
 transform: translateY(calc(-50% + var(--n-dot-height) / 2));
 `)]),v("slider-dots",[v("slider-dot",`
 transform: translateX(-50%) translateY(0);
 `)])])]),U("vertical",`
 padding: 0 calc((var(--n-handle-size) - var(--n-rail-height)) / 2);
 width: var(--n-rail-width-vertical);
 height: 100%;
 `,[v("slider-handles",`
 top: calc(var(--n-handle-size) / 2);
 right: 0;
 bottom: calc(var(--n-handle-size) / 2);
 left: 0;
 `,[v("slider-handle-wrapper",`
 top: unset;
 left: 50%;
 transform: translate(-50%, 50%);
 `)]),v("slider-rail",`
 height: 100%;
 `,[Ne("fill",`
 top: unset;
 right: 0;
 bottom: unset;
 left: 0;
 `)]),U("with-mark",`
 width: var(--n-rail-width-vertical);
 margin: 0 32px 0 8px;
 `),v("slider-marks",`
 top: calc(var(--n-handle-size) / 2);
 right: unset;
 bottom: calc(var(--n-handle-size) / 2);
 left: 22px;
 `,[v("slider-mark",`
 transform: translateY(50%);
 white-space: nowrap;
 `)]),v("slider-dots",`
 top: calc(var(--n-handle-size) / 2);
 right: unset;
 bottom: calc(var(--n-handle-size) / 2);
 left: 50%;
 `,[v("slider-dot",`
 transform: translateX(-50%) translateY(50%);
 `)])]),U("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `,[v("slider-handle",`
 cursor: not-allowed;
 `)]),U("with-mark",`
 width: 100%;
 margin: 8px 0 32px 0;
 `),Pe("&:hover",[v("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[Ne("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),v("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),U("active",[v("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[Ne("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),v("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),v("slider-marks",`
 position: absolute;
 top: 18px;
 left: calc(var(--n-handle-size) / 2);
 right: calc(var(--n-handle-size) / 2);
 `,[v("slider-mark",`
 position: absolute;
 transform: translateX(-50%);
 white-space: nowrap;
 `)]),v("slider-rail",`
 width: 100%;
 position: relative;
 height: var(--n-rail-height);
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 border-radius: calc(var(--n-rail-height) / 2);
 `,[Ne("fill",`
 position: absolute;
 top: 0;
 bottom: 0;
 border-radius: calc(var(--n-rail-height) / 2);
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-fill-color);
 `)]),v("slider-handles",`
 position: absolute;
 top: 0;
 right: calc(var(--n-handle-size) / 2);
 bottom: 0;
 left: calc(var(--n-handle-size) / 2);
 `,[v("slider-handle-wrapper",`
 outline: none;
 position: absolute;
 top: 50%;
 transform: translate(-50%, -50%);
 cursor: pointer;
 display: flex;
 `,[v("slider-handle",`
 height: var(--n-handle-size);
 width: var(--n-handle-size);
 border-radius: 50%;
 overflow: hidden;
 transition: box-shadow .2s var(--n-bezier), background-color .3s var(--n-bezier);
 background-color: var(--n-handle-color);
 box-shadow: var(--n-handle-box-shadow);
 `,[Pe("&:hover",`
 box-shadow: var(--n-handle-box-shadow-hover);
 `)]),Pe("&:focus",[v("slider-handle",`
 box-shadow: var(--n-handle-box-shadow-focus);
 `,[Pe("&:hover",`
 box-shadow: var(--n-handle-box-shadow-active);
 `)])])])]),v("slider-dots",`
 position: absolute;
 top: 50%;
 left: calc(var(--n-handle-size) / 2);
 right: calc(var(--n-handle-size) / 2);
 `,[U("transition-disabled",[v("slider-dot","transition: none;")]),v("slider-dot",`
 transition:
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 position: absolute;
 transform: translate(-50%, -50%);
 height: var(--n-dot-height);
 width: var(--n-dot-width);
 border-radius: var(--n-dot-border-radius);
 overflow: hidden;
 box-sizing: border-box;
 border: var(--n-dot-border);
 background-color: var(--n-dot-color);
 `,[U("active","border: var(--n-dot-border-active);")])])]),v("slider-handle-indicator",`
 font-size: var(--n-font-size);
 padding: 6px 10px;
 border-radius: var(--n-indicator-border-radius);
 color: var(--n-indicator-text-color);
 background-color: var(--n-indicator-color);
 box-shadow: var(--n-indicator-box-shadow);
 `,[at()]),v("slider-handle-indicator",`
 font-size: var(--n-font-size);
 padding: 6px 10px;
 border-radius: var(--n-indicator-border-radius);
 color: var(--n-indicator-text-color);
 background-color: var(--n-indicator-color);
 box-shadow: var(--n-indicator-box-shadow);
 `,[U("top",`
 margin-bottom: 12px;
 `),U("right",`
 margin-left: 12px;
 `),U("bottom",`
 margin-top: 12px;
 `),U("left",`
 margin-right: 12px;
 `),at()]),Jt(v("slider",[v("slider-dot","background-color: var(--n-dot-color-modal);")])),Qt(v("slider",[v("slider-dot","background-color: var(--n-dot-color-popover);")]))]),zn=0,Fn=Object.assign(Object.assign({},kt.props),{to:Je.propTo,defaultValue:{type:[Number,Array],default:0},marks:Object,disabled:{type:Boolean,default:void 0},formatTooltip:Function,keyboard:{type:Boolean,default:!0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:[Number,String],default:1},range:Boolean,value:[Number,Array],placement:String,showTooltip:{type:Boolean,default:void 0},tooltip:{type:Boolean,default:!0},vertical:Boolean,reverse:Boolean,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),Tn=we({name:"Slider",props:Fn,setup(e){const{mergedClsPrefixRef:t,namespaceRef:s,inlineThemeDisabled:n}=en(e),r=kt("Slider","-slider",Rn,Dn,e,t),i=D(null),[d,l]=vt(),[f,w]=vt(),z=D(new Set),E=tn(e),{mergedDisabledRef:L}=E,m=N(()=>{const{step:o}=e;if(o<=0||o==="mark")return 0;const a=o.toString();let u=0;return a.includes(".")&&(u=a.length-a.indexOf(".")-1),u}),c=D(e.defaultValue),_=nn(e,"value"),y=kn(_,c),B=N(()=>{const{value:o}=y;return(e.range?o:[o]).map(Te)}),Z=N(()=>B.value.length>2),x=N(()=>e.placement===void 0?e.vertical?"right":"top":e.placement),fe=N(()=>{const{marks:o}=e;return o?Object.keys(o).map(parseFloat):null}),k=D(-1),ye=D(-1),J=D(-1),K=D(!1),ne=D(!1),X=N(()=>{const{vertical:o,reverse:a}=e;return o?a?"top":"bottom":a?"right":"left"}),se=N(()=>{if(Z.value)return;const o=B.value,a=_e(e.range?Math.min(...o):e.min),u=_e(e.range?Math.max(...o):o[0]),{value:p}=X;return e.vertical?{[p]:`${a}%`,height:`${u-a}%`}:{[p]:`${a}%`,width:`${u-a}%`}}),Q=N(()=>{const o=[],{marks:a}=e;if(a){const u=B.value.slice();u.sort((A,V)=>A-V);const{value:p}=X,{value:S}=Z,{range:F}=e,te=S?()=>!1:A=>F?A>=u[0]&&A<=u[u.length-1]:A<=u[0];for(const A of Object.keys(a)){const V=Number(A);o.push({active:te(V),label:a[A],style:{[p]:`${_e(V)}%`}})}}return o});function ee(o,a){const u=_e(o),{value:p}=X;return{[p]:`${u}%`,zIndex:a===k.value?1:0}}function xe(o){return e.showTooltip||J.value===o||k.value===o&&K.value}function be(o){return K.value?!(k.value===o&&ye.value===o):!0}function g(o){var a;~o&&(k.value=o,(a=d.value.get(o))===null||a===void 0||a.focus())}function P(){f.value.forEach((o,a)=>{xe(a)&&o.syncPosition()})}function b(o){const{"onUpdate:value":a,onUpdateValue:u}=e,{nTriggerFormInput:p,nTriggerFormChange:S}=E;u&&ut(u,o),a&&ut(a,o),c.value=o,p(),S()}function C(o){const{range:a}=e;if(a){if(Array.isArray(o)){const{value:u}=B;o.join()!==u.join()&&b(o)}}else Array.isArray(o)||B.value[0]!==o&&b(o)}function ve(o,a){if(e.range){const u=B.value.slice();u.splice(a,1,o),C(u)}else C(o)}function re(o,a,u){const p=u!==void 0;u||(u=o-a>0?1:-1);const S=fe.value||[],{step:F}=e;if(F==="mark"){const V=pe(o,S.concat(a),p?u:void 0);return V?V.value:a}if(F<=0)return a;const{value:te}=m;let A;if(p){const V=Number((a/F).toFixed(te)),de=Math.floor(V),qe=V>de?de:de-1,Ge=V<de?de:de+1;A=pe(a,[Number((qe*F).toFixed(te)),Number((Ge*F).toFixed(te)),...S],u)}else{const V=Le(o);A=pe(o,[...S,V])}return A?Te(A.value):a}function Te(o){return Math.min(e.max,Math.max(e.min,o))}function _e(o){const{max:a,min:u}=e;return(o-u)/(a-u)*100}function Be(o){const{max:a,min:u}=e;return u+(a-u)*o}function Le(o){const{step:a,min:u}=e;if(a<=0||a==="mark")return o;const p=Math.round((o-u)/a)*a+u;return Number(p.toFixed(m.value))}function pe(o,a=fe.value,u){if(!(a!=null&&a.length))return null;let p=null,S=-1;for(;++S<a.length;){const F=a[S]-o,te=Math.abs(F);(u===void 0||F*u>0)&&(p===null||te<p.distance)&&(p={index:S,distance:te,value:a[S]})}return p}function Y(o){const a=i.value;if(!a)return;const u=ft(o)?o.touches[0]:o,p=a.getBoundingClientRect();let S;return e.vertical?S=(p.bottom-u.clientY)/p.height:S=(u.clientX-p.left)/p.width,e.reverse&&(S=1-S),Be(S)}function Ee(o){if(L.value||!e.keyboard)return;const{vertical:a,reverse:u}=e;switch(o.key){case"ArrowUp":o.preventDefault(),oe(a&&u?-1:1);break;case"ArrowRight":o.preventDefault(),oe(!a&&u?-1:1);break;case"ArrowDown":o.preventDefault(),oe(a&&u?1:-1);break;case"ArrowLeft":o.preventDefault(),oe(!a&&u?1:-1);break}}function oe(o){const a=k.value;if(a===-1)return;const{step:u}=e,p=B.value[a],S=u<=0||u==="mark"?p:p+u*o;ve(re(S,p,o>0?1:-1),a)}function Rt(o){var a,u;if(L.value||!ft(o)&&o.button!==zn)return;const p=Y(o);if(p===void 0)return;const S=B.value.slice(),F=e.range?(u=(a=pe(p,S))===null||a===void 0?void 0:a.index)!==null&&u!==void 0?u:-1:0;F!==-1&&(o.preventDefault(),g(F),zt(),ve(re(p,B.value[F]),F))}function zt(){K.value||(K.value=!0,He("touchend",document,Ie),He("mouseup",document,Ie),He("touchmove",document,Ve),He("mousemove",document,Ve))}function Ae(){K.value&&(K.value=!1,Ke("touchend",document,Ie),Ke("mouseup",document,Ie),Ke("touchmove",document,Ve),Ke("mousemove",document,Ve))}function Ve(o){const{value:a}=k;if(!K.value||a===-1){Ae();return}const u=Y(o);ve(re(u,B.value[a]),a)}function Ie(){Ae()}function Ft(o){k.value=o,L.value||(J.value=o)}function Tt(o){k.value===o&&(k.value=-1,Ae()),J.value===o&&(J.value=-1)}function Bt(o){J.value=o}function Lt(o){J.value===o&&(J.value=-1)}lt(k,(o,a)=>void We(()=>ye.value=a)),lt(y,()=>{if(e.marks){if(ne.value)return;ne.value=!0,We(()=>{ne.value=!1})}We(P)}),St(()=>{Ae()});const ot=N(()=>{const{self:{railColor:o,railColorHover:a,fillColor:u,fillColorHover:p,handleColor:S,opacityDisabled:F,dotColor:te,dotColorModal:A,handleBoxShadow:V,handleBoxShadowHover:de,handleBoxShadowActive:qe,handleBoxShadowFocus:Ge,dotBorder:At,dotBoxShadow:Vt,railHeight:It,railWidthVertical:Nt,handleSize:Ht,dotHeight:Kt,dotWidth:Ut,dotBorderRadius:jt,fontSize:Ot,dotBorderActive:Xt,dotColorPopover:Yt},common:{cubicBezierEaseInOut:qt}}=r.value;return{"--n-bezier":qt,"--n-dot-border":At,"--n-dot-border-active":Xt,"--n-dot-border-radius":jt,"--n-dot-box-shadow":Vt,"--n-dot-color":te,"--n-dot-color-modal":A,"--n-dot-color-popover":Yt,"--n-dot-height":Kt,"--n-dot-width":Ut,"--n-fill-color":u,"--n-fill-color-hover":p,"--n-font-size":Ot,"--n-handle-box-shadow":V,"--n-handle-box-shadow-active":qe,"--n-handle-box-shadow-focus":Ge,"--n-handle-box-shadow-hover":de,"--n-handle-color":S,"--n-handle-size":Ht,"--n-opacity-disabled":F,"--n-rail-color":o,"--n-rail-color-hover":a,"--n-rail-height":It,"--n-rail-width-vertical":Nt}}),ke=n?dt("slider",void 0,ot,e):void 0,it=N(()=>{const{self:{fontSize:o,indicatorColor:a,indicatorBoxShadow:u,indicatorTextColor:p,indicatorBorderRadius:S}}=r.value;return{"--n-font-size":o,"--n-indicator-border-radius":S,"--n-indicator-box-shadow":u,"--n-indicator-color":a,"--n-indicator-text-color":p}}),Se=n?dt("slider-indicator",void 0,it,e):void 0;return{mergedClsPrefix:t,namespace:s,uncontrolledValue:c,mergedValue:y,mergedDisabled:L,mergedPlacement:x,isMounted:sn(),adjustedTo:Je(e),dotTransitionDisabled:ne,markInfos:Q,isShowTooltip:xe,shouldKeepTooltipTransition:be,handleRailRef:i,setHandleRefs:l,setFollowerRefs:w,fillStyle:se,getHandleStyle:ee,activeIndex:k,arrifiedValues:B,followerEnabledIndexSet:z,handleRailMouseDown:Rt,handleHandleFocus:Ft,handleHandleBlur:Tt,handleHandleMouseEnter:Bt,handleHandleMouseLeave:Lt,handleRailKeyDown:Ee,indicatorCssVars:n?void 0:it,indicatorThemeClass:Se==null?void 0:Se.themeClass,indicatorOnRender:Se==null?void 0:Se.onRender,cssVars:n?void 0:ot,themeClass:ke==null?void 0:ke.themeClass,onRender:ke==null?void 0:ke.onRender}},render(){var e;const{mergedClsPrefix:t,themeClass:s,formatTooltip:n}=this;return(e=this.onRender)===null||e===void 0||e.call(this),I("div",{class:[`${t}-slider`,s,{[`${t}-slider--disabled`]:this.mergedDisabled,[`${t}-slider--active`]:this.activeIndex!==-1,[`${t}-slider--with-mark`]:this.marks,[`${t}-slider--vertical`]:this.vertical,[`${t}-slider--reverse`]:this.reverse}],style:this.cssVars,onKeydown:this.handleRailKeyDown,onMousedown:this.handleRailMouseDown,onTouchstart:this.handleRailMouseDown},I("div",{class:`${t}-slider-rail`},I("div",{class:`${t}-slider-rail__fill`,style:this.fillStyle}),this.marks?I("div",{class:[`${t}-slider-dots`,this.dotTransitionDisabled&&`${t}-slider-dots--transition-disabled`]},this.markInfos.map(r=>I("div",{key:r.label,class:[`${t}-slider-dot`,{[`${t}-slider-dot--active`]:r.active}],style:r.style}))):null,I("div",{ref:"handleRailRef",class:`${t}-slider-handles`},this.arrifiedValues.map((r,i)=>{const d=this.isShowTooltip(i);return I(Sn,null,{default:()=>[I(Cn,null,{default:()=>I("div",{ref:this.setHandleRefs(i),class:`${t}-slider-handle-wrapper`,tabindex:this.mergedDisabled?-1:0,style:this.getHandleStyle(r,i),onFocus:()=>this.handleHandleFocus(i),onBlur:()=>this.handleHandleBlur(i),onMouseenter:()=>this.handleHandleMouseEnter(i),onMouseleave:()=>this.handleHandleMouseLeave(i)},rn(this.$slots.thumb,()=>[I("div",{class:`${t}-slider-handle`})]))}),this.tooltip&&I(Mn,{ref:this.setFollowerRefs(i),show:d,to:this.adjustedTo,enabled:this.showTooltip&&!this.range||this.followerEnabledIndexSet.has(i),teleportDisabled:this.adjustedTo===Je.tdkey,placement:this.mergedPlacement,containerClass:this.namespace},{default:()=>I(on,{name:"fade-in-scale-up-transition",appear:this.isMounted,css:this.shouldKeepTooltipTransition(i),onEnter:()=>{this.followerEnabledIndexSet.add(i)},onAfterLeave:()=>{this.followerEnabledIndexSet.delete(i)}},{default:()=>{var l;return d?((l=this.indicatorOnRender)===null||l===void 0||l.call(this),I("div",{class:[`${t}-slider-handle-indicator`,this.indicatorThemeClass,`${t}-slider-handle-indicator--${this.mergedPlacement}`],style:this.indicatorCssVars},typeof n=="function"?n(r):r)):null}})})]})})),this.marks?I("div",{class:`${t}-slider-marks`},this.markInfos.map(r=>I("div",{key:r.label,class:`${t}-slider-mark`,style:r.style},r.label))):null))}}),Bn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ln=ce("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"44",d:"M358.62 129.28L86.49 402.08L70 442l39.92-16.49l272.8-272.13l-24.1-24.1z"},null,-1),An=ce("path",{d:"M413.07 74.84l-11.79 11.78l24.1 24.1l11.79-11.79a16.51 16.51 0 0 0 0-23.34l-.75-.75a16.51 16.51 0 0 0-23.35 0z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"44"},null,-1),Vn=[Ln,An],pt=we({name:"Pencil",render:function(t,s){return ue(),me("svg",Bn,Vn)}}),In={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Nn=ce("path",{d:"M336 96a80 80 0 1 0-96 78.39v283.17a32.09 32.09 0 0 0 2.49 12.38l10.07 24a3.92 3.92 0 0 0 6.88 0l10.07-24a32.09 32.09 0 0 0 2.49-12.38V174.39A80.13 80.13 0 0 0 336 96zm-56 0a24 24 0 1 1 24-24a24 24 0 0 1-24 24z",fill:"currentColor"},null,-1),Hn=[Nn],Kn=we({name:"Pin",render:function(t,s){return ue(),me("svg",In,Hn)}}),Un={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},jn=ce("circle",{cx:"256",cy:"96",r:"64",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),On=ce("path",{d:"M272 164a9 9 0 0 0-9-9h-14a9 9 0 0 0-9 9v293.56a32.09 32.09 0 0 0 2.49 12.38l10.07 24a3.92 3.92 0 0 0 6.88 0l10.07-24a32.09 32.09 0 0 0 2.49-12.38z",fill:"currentColor"},null,-1),Xn=ce("circle",{cx:"280",cy:"72",r:"24",fill:"currentColor"},null,-1),Yn=[jn,On,Xn],qn=we({name:"PinOutline",render:function(t,s){return ue(),me("svg",Un,Yn)}}),Gn=we({__name:"index",props:{storageKey:null,initial:null},setup(e){var d;const t=e,s=D(null),n=(d=t.initial)!=null?d:{x:0,y:0},r=t.storageKey?rt(t.storageKey,n):D(n),{style:i}=an(s,{initialValue:r});return(l,f)=>(ue(),me("div",{ref_key:"el",ref:s,class:"fixed",style:ze(h(i))},[ln(l.$slots,"default")],4))}});function mt(e,t,s,n=r=>r){return e*n(.5-t*(.5-s))}function Wn(e){return[-e[0],-e[1]]}function W(e,t){return[e[0]+t[0],e[1]+t[1]]}function j(e,t){return[e[0]-t[0],e[1]-t[1]]}function G(e,t){return[e[0]*t,e[1]*t]}function Zn(e,t){return[e[0]/t,e[1]/t]}function $e(e){return[e[1],-e[0]]}function Jn(e,t){return e[0]*t[0]+e[1]*t[1]}function Qn(e,t){return e[0]===t[0]&&e[1]===t[1]}function es(e){return Math.hypot(e[0],e[1])}function ts(e){return e[0]*e[0]+e[1]*e[1]}function gt(e,t){return ts(j(e,t))}function Ct(e){return Zn(e,es(e))}function ns(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function De(e,t,s){let n=Math.sin(s),r=Math.cos(s),i=e[0]-t[0],d=e[1]-t[1],l=i*r-d*n,f=i*n+d*r;return[l+t[0],f+t[1]]}function Qe(e,t,s){return W(e,G(j(t,e),s))}function wt(e,t,s){return W(e,G(t,s))}var{min:Ce,PI:ss}=Math,yt=.275,Re=ss+1e-4;function rs(e,t={}){let{size:s=16,smoothing:n=.5,thinning:r=.5,simulatePressure:i=!0,easing:d=g=>g,start:l={},end:f={},last:w=!1}=t,{cap:z=!0,easing:E=g=>g*(2-g)}=l,{cap:L=!0,easing:m=g=>--g*g*g+1}=f;if(e.length===0||s<=0)return[];let c=e[e.length-1].runningLength,_=l.taper===!1?0:l.taper===!0?Math.max(s,c):l.taper,y=f.taper===!1?0:f.taper===!0?Math.max(s,c):f.taper,B=Math.pow(s*n,2),Z=[],x=[],fe=e.slice(0,10).reduce((g,P)=>{let b=P.pressure;if(i){let C=Ce(1,P.distance/s),ve=Ce(1,1-C);b=Ce(1,g+(ve-g)*(C*yt))}return(g+b)/2},e[0].pressure),k=mt(s,r,e[e.length-1].pressure,d),ye,J=e[0].vector,K=e[0].point,ne=K,X=K,se=ne;for(let g=0;g<e.length;g++){let{pressure:P}=e[g],{point:b,vector:C,distance:ve,runningLength:re}=e[g];if(g<e.length-1&&c-re<3)continue;if(r){if(i){let Y=Ce(1,ve/s),Ee=Ce(1,1-Y);P=Ce(1,fe+(Ee-fe)*(Y*yt))}k=mt(s,r,P,d)}else k=s/2;ye===void 0&&(ye=k);let Te=re<_?E(re/_):1,_e=c-re<y?m((c-re)/y):1;if(k=Math.max(.01,k*Math.min(Te,_e)),g===e.length-1){let Y=G($e(C),k);Z.push(j(b,Y)),x.push(W(b,Y));continue}let Be=e[g+1].vector,Le=Jn(C,Be);if(Le<0){let Y=G($e(J),k);for(let Ee=1/13,oe=0;oe<=1;oe+=Ee)X=De(j(b,Y),b,Re*oe),Z.push(X),se=De(W(b,Y),b,Re*-oe),x.push(se);K=X,ne=se;continue}let pe=G($e(Qe(Be,C,Le)),k);X=j(b,pe),(g<=1||gt(K,X)>B)&&(Z.push(X),K=X),se=W(b,pe),(g<=1||gt(ne,se)>B)&&(x.push(se),ne=se),fe=P,J=C}let Q=e[0].point.slice(0,2),ee=e.length>1?e[e.length-1].point.slice(0,2):W(e[0].point,[1,1]),xe=[],be=[];if(e.length===1){if(!(_||y)||w){let g=wt(Q,Ct($e(j(Q,ee))),-(ye||k)),P=[];for(let b=1/13,C=b;C<=1;C+=b)P.push(De(g,Q,Re*2*C));return P}}else{if(!(_||y&&e.length===1))if(z)for(let P=1/13,b=P;b<=1;b+=P){let C=De(x[0],Q,Re*b);xe.push(C)}else{let P=j(Z[0],x[0]),b=G(P,.5),C=G(P,.51);xe.push(j(Q,b),j(Q,C),W(Q,C),W(Q,b))}let g=$e(Wn(e[e.length-1].vector));if(y||_&&e.length===1)be.push(ee);else if(L){let P=wt(ee,g,k);for(let b=1/29,C=b;C<1;C+=b)be.push(De(P,ee,Re*3*C))}else be.push(W(ee,G(g,k)),W(ee,G(g,k*.99)),j(ee,G(g,k*.99)),j(ee,G(g,k)))}return Z.concat(be,x.reverse(),xe)}function os(e,t={}){var s;let{streamline:n=.5,size:r=16,last:i=!1}=t;if(e.length===0)return[];let d=.15+(1-n)*.85,l=Array.isArray(e[0])?e:e.map(({x:m,y:c,pressure:_=.5})=>[m,c,_]);if(l.length===2){let m=l[1];l=l.slice(0,-1);for(let c=1;c<5;c++)l.push(Qe(l[0],m,c/4))}l.length===1&&(l=[...l,[...W(l[0],[1,1]),...l[0].slice(2)]]);let f=[{point:[l[0][0],l[0][1]],pressure:l[0][2]>=0?l[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],w=!1,z=0,E=f[0],L=l.length-1;for(let m=1;m<l.length;m++){let c=i&&m===L?l[m].slice(0,2):Qe(E.point,l[m],d);if(Qn(E.point,c))continue;let _=ns(c,E.point);if(z+=_,m<L&&!w){if(z<r)continue;w=!0}E={point:c,pressure:l[m][2]>=0?l[m][2]:.5,vector:Ct(j(E.point,c)),distance:_,runningLength:z},f.push(E)}return f[0].vector=((s=f[1])==null?void 0:s.vector)||[0,0],f}function is(e,t={}){return rs(os(e,t),t)}var as=()=>({events:{},emit(e,...t){let s=this.events[e]||[];for(let n=0,r=s.length;n<r;n++)s[n](...t)},on(e,t){var s;return(s=this.events[e])!=null&&s.push(t)||(this.events[e]=[t]),()=>{var n;this.events[e]=(n=this.events[e])==null?void 0:n.filter(r=>t!==r)}}});function Oe(e,t){return e-t}function ls(e){return e<0?-1:1}function Xe(e){return[Math.abs(e),ls(e)]}function Mt(){const e=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${e()+e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`}var ds=2,ae=ds,Me=class{constructor(e){this.drauu=e,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(e){}onUnselected(){}onStart(e){}onMove(e){return!1}onEnd(e){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(e){var r;var t;const s=this.drauu.el,n=(r=this.drauu.options.coordinateScale)!=null?r:1;if(this.drauu.options.coordinateTransform===!1){const i=this.drauu.el.getBoundingClientRect();return{x:(e.pageX-i.left)*n,y:(e.pageY-i.top)*n,pressure:e.pressure}}else{const i=this.drauu.svgPoint;i.x=e.clientX,i.y=e.clientY;const d=i.matrixTransform((t=s.getScreenCTM())==null?void 0:t.inverse());return{x:d.x*n,y:d.y*n,pressure:e.pressure}}}createElement(e,t){var r;const s=document.createElementNS("http://www.w3.org/2000/svg",e),n=t?{...this.brush,...t}:this.brush;return s.setAttribute("fill",(r=n.fill)!=null?r:"transparent"),s.setAttribute("stroke",n.color),s.setAttribute("stroke-width",n.size.toString()),s.setAttribute("stroke-linecap","round"),n.dasharray&&s.setAttribute("stroke-dasharray",n.dasharray),s}attr(e,t){this.el.setAttribute(e,typeof t=="string"?t:t.toFixed(ae))}_setEvent(e){this.event=e,this.point=this.getMousePosition(e)}_eventDown(e){return this._setEvent(e),this.start=this.point,this.onStart(this.point)}_eventMove(e){return this._setEvent(e),this.onMove(this.point)}_eventUp(e){return this._setEvent(e),this.onEnd(this.point)}},us=class extends Me{constructor(){super(...arguments),this.points=[]}onStart(e){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[e],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&this.points.push(e),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const e=this.el;return this.el=null,!!e}getSvgData(e){const t=is(e,{size:this.brush.size*2,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5},...this.brush.stylusOptions});if(!t.length)return"";const s=t.reduce((n,[r,i],d,l)=>{const[f,w]=l[(d+1)%l.length];return n.push(r,i,(r+f)/2,(i+w)/2),n},["M",...t[0],"Q"]);return s.push("Z"),s.map(n=>typeof n=="number"?n.toFixed(2):n).join(" ")}},cs=class extends Me{onStart(e){return this.el=this.createElement("ellipse"),this.attr("cx",e.x),this.attr("cy",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,s]=Xe(e.x-this.start.x),[n,r]=Xe(e.y-this.start.y);if(this.shiftPressed){const i=Math.min(t,n);t=i,n=i}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",t),this.attr("ry",n);else{const[i,d]=[this.start.x,this.start.x+t*s].sort(Oe),[l,f]=[this.start.y,this.start.y+n*r].sort(Oe);this.attr("cx",(i+d)/2),this.attr("cy",(l+f)/2),this.attr("rx",(d-i)/2),this.attr("ry",(f-l)/2)}return!0}onEnd(){const e=this.el;return this.el=null,!(!e||!e.getTotalLength())}};function Et(e,t){const s=document.createElementNS("http://www.w3.org/2000/svg","defs"),n=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("fill",t),n.setAttribute("id",e),n.setAttribute("viewBox","0 -5 10 10"),n.setAttribute("refX","5"),n.setAttribute("refY","0"),n.setAttribute("markerWidth","4"),n.setAttribute("markerHeight","4"),n.setAttribute("orient","auto"),r.setAttribute("d","M0,-5L10,0L0,5"),n.appendChild(r),s.appendChild(n),s}var hs=class extends Me{onStart(e){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",e.x),this.attr("y1",e.y),this.attr("x2",e.x),this.attr("y2",e.y),this.brush.arrowEnd){const t=Mt(),s=document.createElementNS("http://www.w3.org/2000/svg","g");return s.append(Et(t,this.brush.color)),s.append(this.el),this.attr("marker-end",`url(#${t})`),s}return this.el}onMove(e){if(!this.el)return!1;let{x:t,y:s}=e;if(this.shiftPressed){const n=e.x-this.start.x,r=e.y-this.start.y;if(r!==0){let i=n/r;i=Math.round(i),Math.abs(i)<=1?(t=this.start.x+r*i,s=this.start.y+r):(t=this.start.x+n,s=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-t),this.attr("y1",this.start.y*2-s),this.attr("x2",t),this.attr("y2",s)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",t),this.attr("y2",s)),!0}onEnd(){const e=this.el;return this.el=null,!(!e||e.getTotalLength()<5)}},fs=class extends Me{onStart(e){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",e.x),this.attr("y",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,s]=Xe(e.x-this.start.x),[n,r]=Xe(e.y-this.start.y);if(this.shiftPressed){const i=Math.min(t,n);t=i,n=i}if(this.altPressed)this.attr("x",this.start.x-t),this.attr("y",this.start.y-n),this.attr("width",t*2),this.attr("height",n*2);else{const[i,d]=[this.start.x,this.start.x+t*s].sort(Oe),[l,f]=[this.start.y,this.start.y+n*r].sort(Oe);this.attr("x",i),this.attr("y",l),this.attr("width",d-i),this.attr("height",f-l)}return!0}onEnd(){const e=this.el;return this.el=null,!(!e||!e.getTotalLength())}};function vs(e,t){const s=e.x-t.x,n=e.y-t.y;return s*s+n*n}function ps(e,t,s){let n=t.x,r=t.y,i=s.x-n,d=s.y-r;if(i!==0||d!==0){const l=((e.x-n)*i+(e.y-r)*d)/(i*i+d*d);l>1?(n=s.x,r=s.y):l>0&&(n+=i*l,r+=d*l)}return i=e.x-n,d=e.y-r,i*i+d*d}function ms(e,t){let s=e[0];const n=[s];let r;for(let i=1,d=e.length;i<d;i++)r=e[i],vs(r,s)>t&&(n.push(r),s=r);return s!==r&&r&&n.push(r),n}function et(e,t,s,n,r){let i=n,d=0;for(let l=t+1;l<s;l++){const f=ps(e[l],e[t],e[s]);f>i&&(d=l,i=f)}i>n&&(d-t>1&&et(e,t,d,n,r),r.push(e[d]),s-d>1&&et(e,d,s,n,r))}function gs(e,t){const s=e.length-1,n=[e[0]];return et(e,0,s,t,n),n.push(e[s]),n}function xt(e,t,s=!1){if(e.length<=2)return e;const n=t!==void 0?t*t:1;return e=s?e:ms(e,n),e=gs(e,n),e}var ws=class extends Me{constructor(){super(...arguments),this.points=[],this.count=0}onStart(e){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[e],this.brush.arrowEnd){this.arrowId=Mt();const t=Et(this.arrowId,this.brush.color);this.el.appendChild(t)}return this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&(this.points.push(e),this.count+=1),this.count>5&&(this.points=xt(this.points,1,!0),this.count=0),this.attr("d",_t(this.points)),!0}onEnd(){const e=this.el;return this.el=null,!(!e||(e.setAttribute("d",_t(xt(this.points,1,!0))),!e.getTotalLength()))}};function ys(e,t){const s=t.x-e.x,n=t.y-e.y;return{length:Math.sqrt(Math.pow(s,2)+Math.pow(n,2)),angle:Math.atan2(n,s)}}function bt(e,t,s,n){const r=t||e,i=s||e,d=.2,l=ys(r,i),f=l.angle+(n?Math.PI:0),w=l.length*d,z=e.x+Math.cos(f)*w,E=e.y+Math.sin(f)*w;return{x:z,y:E}}function xs(e,t,s){const n=bt(s[t-1],s[t-2],e),r=bt(e,s[t-1],s[t+1],!0);return`C ${n.x.toFixed(ae)},${n.y.toFixed(ae)} ${r.x.toFixed(ae)},${r.y.toFixed(ae)} ${e.x.toFixed(ae)},${e.y.toFixed(ae)}`}function _t(e){return e.reduce((t,s,n,r)=>n===0?`M ${s.x.toFixed(ae)},${s.y.toFixed(ae)}`:`${t} ${xs(s,n,r)}`,"")}var bs=class extends Me{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[]}onSelected(e){const t=(s,n)=>{if(s&&s.length)for(let r=0;r<s.length;r++){const i=s[r];if(i.getTotalLength){const d=i.getTotalLength();for(let l=0;l<this.pathSubFactor;l++){const f=i.getPointAtLength(d*l/this.pathSubFactor),w=i.getPointAtLength(d*(l+1)/this.pathSubFactor);this.pathFragments.push({x1:f.x,x2:w.x,y1:f.y,y2:w.y,segment:l,element:n||i})}}else i.children&&t(i.children,i)}};e&&t(e.children)}onUnselected(){this.pathFragments=[]}onStart(e){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=e.x,this.svgPointPrevious.y=e.y}onMove(e){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=e.x,this.svgPointCurrent.y=e.y;const t=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,t}onEnd(){return this.svgPointPrevious=void 0,this.svgPointCurrent=void 0,!0}checkAndEraseElement(){const e=[];if(this.pathFragments.length)for(let t=0;t<this.pathFragments.length;t++){const s=this.pathFragments[t],n={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(s,n)&&(s.element.remove(),e.push(t))}return e.length&&(this.pathFragments=this.pathFragments.filter((t,s)=>!e.includes(s))),e.length>0}lineLineIntersect(e,t){const s=e.x1,n=e.x2,r=t.x1,i=t.x2,d=e.y1,l=e.y2,f=t.y1,w=t.y2,z=(s-n)*(f-w)-(d-l)*(r-i),E=(s*l-d*n)*(r-i)-(s-n)*(r*w-f*i),L=(s*l-d*n)*(f-w)-(d-l)*(r*w-f*i),m=(c,_,y)=>c>=_&&c<=y?!0:c>=y&&c<=_;if(z===0)return!1;{const c={x:E/z,y:L/z};return m(c.x,s,n)&&m(c.y,d,l)&&m(c.x,r,i)&&m(c.y,f,w)}}};function _s(e){return{draw:new ws(e),stylus:new us(e),line:new hs(e),rectangle:new fs(e),ellipse:new cs(e),eraseLine:new bs(e)}}var ks=class{constructor(e={}){this.options=e,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=as(),this._models=_s(this),this._undoStack=[],this._disposables=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),e.el&&this.mount(e.el,e.eventTarget)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(e){this._models[this.mode].onUnselected(),this.options.brush.mode=e,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(e){this.options.brush=e}resolveSelector(e){return typeof e=="string"?document.querySelector(e):e||null}mount(e,t){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(e),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const s=this.resolveSelector(t)||this.el,n=this.eventStart.bind(this),r=this.eventMove.bind(this),i=this.eventEnd.bind(this),d=this.eventKeyboard.bind(this);s.addEventListener("pointerdown",n,{passive:!1}),window.addEventListener("pointermove",r,{passive:!1}),window.addEventListener("pointerup",i,{passive:!1}),window.addEventListener("pointercancel",i,{passive:!1}),window.addEventListener("keydown",d,!1),window.addEventListener("keyup",d,!1),this._disposables.push(()=>{s.removeEventListener("pointerdown",n),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",i),window.removeEventListener("pointercancel",i),window.removeEventListener("keydown",d,!1),window.removeEventListener("keyup",d,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(e=>e()),this._disposables.length=0,this.el=null,this._emitter.emit("unmounted")}on(e,t){return this._emitter.on(e,t)}undo(){const e=this.el;return e.lastElementChild?(this._undoStack.push(e.lastElementChild.cloneNode(!0)),e.lastElementChild.remove(),this._emitter.emit("changed"),!0):!1}redo(){return this._undoStack.length?(this.el.appendChild(this._undoStack.pop()),this._emitter.emit("changed"),!0):!1}canRedo(){return!!this._undoStack.length}canUndo(){var e;return!!((e=this.el)!=null&&e.lastElementChild)}eventMove(e){!this.acceptsInput(e)||!this.drawing||this.model._eventMove(e)&&(e.stopPropagation(),e.preventDefault(),this._emitter.emit("changed"))}eventStart(e){!this.acceptsInput(e)||(e.stopPropagation(),e.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._emitter.emit("start"),this._currentNode=this.model._eventDown(e),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(e){if(!this.acceptsInput(e)||!this.drawing)return;const t=this.model._eventUp(e);t?(t instanceof Element&&t!==this._currentNode&&(this._currentNode=t),this.commit()):this.cancel(),this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed")}acceptsInput(e){return!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(e.pointerType)}eventKeyboard(e){this.shiftPressed===e.shiftKey&&this.altPressed===e.altKey||(this.shiftPressed=e.shiftKey,this.altPressed=e.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(){this._undoStack.length=0;const e=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",e)}clear(){this._undoStack.length=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(e){this.clear(),this.el.innerHTML=e}};function Ss(e){return new ks(e)}const ge=dn(),he=D(1),Ye=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],le=rt("slidev-drawing-enabled",!1),ie=rt("slidev-drawing-pinned",!1),tt=D(!1),nt=D(!1),Fe=D(!1),Pt=D(!1),Ze=D(!1),T=N({get(){var e;return(e=ge.getBrush[String(he.value)])!=null?e:{color:Ye[0],size:4,mode:"stylus",dasharray:void 0}},set(e){ge.setBrush(String(he.value),e)}});let st=!1;const H=N({get(){var e;return(e=ge.getDdrawingMode[String(he.value)])!=null?e:"stylus"},set(e){ge.setDdrawingMode(String(he.value),e),e==="arrow"?T.value={...T.value,mode:"line",arrowEnd:!0}:T.value={...T.value,mode:e,arrowEnd:!1}}}),Cs=un({brush:T,acceptsInputTypes:N(()=>le.value?void 0:["pen"]),coordinateTransform:!1}),R=cn(Ss(Cs));function $t(){R.clear(),ge.setDrauuDumpOne(String(he.value),"")}function Ms(){var e;nt.value=R.canRedo(),tt.value=R.canUndo(),Fe.value=!!((e=R.el)!=null&&e.children.length)}function Es(e){he.value=e}function Ps(e){st=!0;const t=ge.getDrauuDump[String(e||he.value)];t?R.load(t):R.clear(),st=!1,le.value=!0}R.on("changed",()=>{if(!Ze.value){const e=yn(()=>{Ms(),Ze.value=!1,xn(e)});Ze.value=!0}if(!st){const e=R.dump(),t=String(he.value);ge.setDrauuDumpOne(t,e)}});R.on("start",()=>Pt.value=!0);R.on("end",()=>Pt.value=!1);window.addEventListener("keydown",e=>{if(!le.value)return;const t=!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey;let s=!0;e.code==="KeyZ"&&(e.ctrlKey||e.metaKey||e.shiftKey)?e.shiftKey?R.redo():R.undo():e.code==="Escape"?le.value=!1:e.code==="KeyL"&&t?H.value="line":e.code==="KeyA"&&t?H.value="arrow":e.code==="KeyS"&&t?H.value="stylus":e.code==="KeyD"&&t?H.value="draw":e.code==="KeyR"&&t?H.value="rectangle":e.code==="KeyE"&&t?H.value="ellipse":e.code==="KeyC"&&t?$t():e.code.startsWith("Digit")&&t&&+e.code[5]<=Ye.length?T.value={...T.value,color:Ye[+e.code[5]-1]}:s=!1,s&&(e.preventDefault(),e.stopPropagation())},!1);const $s=O(" \u89E6\u7B14(S) "),Ds=O(" \u7ED8\u753B(D) "),Rs=O(" \u76F4\u7EBF(L) "),zs=O(" \u76F4\u7EBF\u7BAD\u5934(A) "),Fs=O(" \u5706\u5F62(E) "),Ts=O(" \u6B63\u65B9\u5F62(R) "),Bs=O(" \u2505 "),Ls=O(" \u22EF "),As=O(" \u64A4\u9500(ctrl+Z) "),Vs=O(" \u590D\u4F4D(shift+Z) "),Is=O(" \u6E05\u9664(C) "),Ns=O(" \u4E0B\u8F7D "),Hs=we({name:"drawing-drauu-did"}),Dt=we({...Hs,props:{did:null},setup(e){const t=e,s=_n(),n=hn("provide-screen"),r=N(()=>s.getPage),i=D();fn(()=>{Es(Number(t.did)),R.mount(i.value),Ps(),w(H.value)}),St(()=>{R.unmount()});function d(){R.undo()}function l(){R.redo()}function f(){R.el.setAttribute("xmlns","http://www.w3.org/2000/svg");const m=R.el.outerHTML||"",c=new Blob([m],{type:"image/svg+xml"}),_=window.document.createElement("a");_.href=window.URL.createObjectURL(c),_.download="drauu"+Number(t.did)+".svg",document.body.appendChild(_),_.click(),document.body.removeChild(_)}function w(m){H.value=m,le.value=!0,L(void 0)}function z(m){T.value={...T.value,color:m},le.value=!0}function E(m){T.value={...T.value,size:m},le.value=!0}function L(m){T.value={...T.value,dasharray:m},le.value=!0}return(m,c)=>{const _=pn,y=mn,B=Tn,Z=En;return ue(),me(ct,null,[M(y,{type:"success",dashed:"",onClick:c[0]||(c[0]=x=>ie.value=!h(ie))},{default:$(()=>[Ue(M(_,{size:"18",component:h(pt),class:"transform -rotate-45"},null,8,["component"]),[[je,h(ie)]]),Ue(M(_,{size:"18",component:h(pt)},null,8,["component"]),[[je,!h(ie)]])]),_:1}),ce("div",{style:ze("background-image: url("+h(bn)("cafe.png")+")")},[(ue(),me("svg",{ref_key:"svg",ref:i,class:"w-full",style:ze(h(r)==="inner:true"?"height: calc(100vh - "+(h(n)!=="s"&&h(n)!=="xs"?191:167)+"px);":h(r)==="init"?"height: calc(100vh - "+(h(n)!=="s"&&h(n)!=="xs"?205:181)+"px);":"height: calc(100vh - "+(h(n)!=="s"&&h(n)!=="xs"?205:181)+"px);")},null,4)),M(Gn,{style:ze(h(n)!=="s"&&h(n)!=="xs"?"width: calc(100vw - 400px)":"width: calc(100vw - 0px)"),flex:"","flex-wrap":"","text-xl":"","p-2":"","gap-1":"","rounded-md":"","bg-main":"",shadow:"","transition-opacity":"","duration-200":"",class:q(h(ie)?"opacity-90":"opacity-0 pointer-events-none"),"storage-key":"slidev-drawing-pos",initial:{x:280,y:105}},{default:$(()=>[M(Z,null,{default:$(()=>[M(y,{type:"success",dashed:"",class:q({"opacity-60":h(H)!=="stylus"}),onClick:c[1]||(c[1]=x=>w("stylus"))},{default:$(()=>[$s]),_:1},8,["class"]),M(y,{type:"success",dashed:"",class:q({"opacity-60":h(H)!=="draw"}),onClick:c[2]||(c[2]=x=>w("draw"))},{default:$(()=>[Ds]),_:1},8,["class"]),M(y,{type:"success",dashed:"",class:q({"opacity-60":h(H)!=="line"}),onClick:c[3]||(c[3]=x=>w("line"))},{default:$(()=>[Rs]),_:1},8,["class"]),M(y,{type:"success",dashed:"",class:q({"opacity-60":h(H)!=="arrow"}),onClick:c[4]||(c[4]=x=>w("arrow"))},{default:$(()=>[zs]),_:1},8,["class"]),M(y,{type:"success",dashed:"",class:q({"opacity-60":h(H)!=="ellipse"}),onClick:c[5]||(c[5]=x=>w("ellipse"))},{default:$(()=>[Fs]),_:1},8,["class"]),M(y,{type:"success",dashed:"",class:q({"opacity-60":h(H)!=="rectangle"}),onClick:c[6]||(c[6]=x=>w("rectangle"))},{default:$(()=>[Ts]),_:1},8,["class"]),M(y,{type:"success",dashed:"",class:q({"opacity-60":h(T).dasharray!=="4"}),onClick:c[7]||(c[7]=x=>L("4"))},{default:$(()=>[Bs]),_:1},8,["class"]),M(y,{type:"success",dashed:"",class:q({"opacity-60":h(T).dasharray!=="1 7"}),onClick:c[8]||(c[8]=x=>L("1 7"))},{default:$(()=>[Ls]),_:1},8,["class"]),M(y,{"w-100":"",class:q({"opacity-90":!0})},{default:$(()=>[M(B,{"w-100":"","default-value":4,step:.5,max:10,min:0,"onUpdate:value":E},null,8,["step"])]),_:1}),(ue(!0),me(ct,null,vn(h(Ye),x=>(ue(),gn(y,{key:x,dashed:"",type:h(T).color!==x?"default":"success",onClick:fe=>z(x)},{default:$(()=>[ce("div",{class:q(["w-6 h-6 transition-all transform border border-gray-400/50",h(T).color!==x?"rounded-1/2 scale-85":"rounded-md"]),style:ze(h(le)?{background:x}:{borderColor:x})},null,6)]),_:2},1032,["type","onClick"]))),128)),M(y,{type:h(tt)?"success":"default",dashed:"",disabled:!h(tt),onClick:c[9]||(c[9]=x=>d())},{default:$(()=>[As]),_:1},8,["type","disabled"]),M(y,{type:h(nt)?"success":"default",dashed:"",disabled:!h(nt),onClick:c[10]||(c[10]=x=>l())},{default:$(()=>[Vs]),_:1},8,["type","disabled"]),M(y,{type:h(Fe)?"success":"default",dashed:"",disabled:!h(Fe),onClick:c[11]||(c[11]=x=>h($t)())},{default:$(()=>[Is]),_:1},8,["type","disabled"]),M(y,{type:h(Fe)?"success":"default",dashed:"",disabled:!h(Fe),onClick:c[12]||(c[12]=x=>f())},{default:$(()=>[Ns]),_:1},8,["type","disabled"]),M(y,{dashed:"",onClick:c[13]||(c[13]=x=>ie.value=!h(ie))},{default:$(()=>[Ue(M(_,{size:"18",component:h(Kn)},null,8,["component"]),[[je,h(ie)]]),Ue(M(_,{size:"18",component:h(qn),class:"transform -rotate-45"},null,8,["component"]),[[je,!h(ie)]])]),_:1})]),_:1})]),_:1},8,["style","class"])],4)],64)}}});typeof ht=="function"&&ht(Dt);const Qs=wn(Dt,[["__scopeId","data-v-d12284ca"]]);export{Qs as default};
