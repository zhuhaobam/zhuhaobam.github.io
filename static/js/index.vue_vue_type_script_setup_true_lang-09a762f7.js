import{d as W,l as B,a as L,b as N,s as I,r as d,w as r,z as j,A as U,B as D,C as F,D as G,E as J,F as P,G as $,g as u,H as q,o as Q,k as X,h as Y,I as S,J as Z,N as ee}from"./main-ef72a888.js";import{u as te}from"./tags-cc42fc10.js";import{_ as ne}from"./Menu-4096b249.js";const de=W({__name:"index",props:{collapsedIconSize:{default:24},collapsedWidth:{default:48},iconSize:{default:20},indent:{default:32},rootIndent:{default:32}},setup(z){const s=z,{t:K}=B(),l=te(),x=L(),w=N(),{locale:H,collapsed:p}=I(w),{theme:g,menuTheme:i}=I(x),m=d({}),h=d(0);r(p,(e,t)=>{if(p.value){const n=s.collapsedIconSize<i.value.minHeight?i.value.minHeight:s.collapsedIconSize+i.value.compensate;m.value={itemHeight:n+"px"},h.value=s.collapsedIconSize}else m.value={itemHeight:i.value.minHeight+"px"},h.value=i.value.minHeight},{immediate:!0,deep:!0});const R=j.map(e=>{var n;return((n=e==null?void 0:e.meta)==null?void 0:n.layout)===!1?e:U([e])[0]}),T=D(R),M=F(T),f=d([]);function O(e){return S(ee,null,{default:()=>S(Z(e.menuRenderIcon))})}r(H,(e,t)=>{f.value=G(M,K)},{immediate:!0,deep:!0});const y=d(g!==null);r(g,(e,t)=>{y.value=e!==null},{immediate:!0,deep:!0});const a=J();if(l.hasEmpty){const e=a.matched[a.matched.length-1];e.path.endsWith(":id")&&(e.params=a.params),l.addTag(e)}const v=a.matched,_=d(a.name),C=(v&&v.length?v.map(e=>e.name):[]).filter(e=>e),c=P({openKeys:C}),V=$(()=>u(_));q(()=>{const e=a.matched[a.matched.length-1];e.path.endsWith(":id")&&(e.params=a.params),l.addTag(e)}),r(()=>a.fullPath,()=>{var o;const e=a.matched;c.openKeys=e.map(E=>E.name);const t=((o=a.meta)==null?void 0:o.activeMenu)||"";_.value=t||a.name;const n=e[e.length-1];n.path.endsWith(":id")&&(n.params=a.params),l.addTag(n)});function b(e,t){/http(s)?:/.test(e)&&window.open(e)}function k(e){if(!e)return;const t=e.find(o=>c.openKeys.indexOf(o)===-1),n=A(t);c.openKeys=n?t?[t]:[]:e}function A(e){if(!e)return!1;const t=[];for(const{children:n,key:o}of u(f))n&&n.length&&t.push(o);return t.includes(e)}return(e,t)=>{const n=ne;return Q(),X("div",null,[Y(n,{"theme-overrides":m.value,accordion:"",options:f.value,inverted:y.value,mode:"vertical",collapsed:u(p),"collapsed-width":s.collapsedWidth,"collapsed-icon-size":h.value,"icon-size":s.iconSize,indent:s.indent,"root-indent":s.rootIndent,"expanded-keys":c.openKeys,value:u(V),"render-icon":O,"onUpdate:value":b,"onUpdate:expandedKeys":k},null,8,["theme-overrides","options","inverted","collapsed","collapsed-width","collapsed-icon-size","icon-size","indent","root-indent","expanded-keys","value"])])}}});export{de as _};
