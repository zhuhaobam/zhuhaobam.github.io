import{al as Gt,c7 as Zt,r as D,c8 as Qt,P as De,m as v,n as U,Q as Ke,an as dt,bv as Jt,bw as en,d as ye,q as tn,p as Mt,b_ as nn,c as N,V as sn,w as ut,ah as Qe,b as Et,s as ct,ap as rn,t as I,as as on,a8 as an,aX as He,aY as Ue,W as ht,e as ce,v as ge,x as he,aW as it,c9 as ln,B as dn,C as Te,j as h,aT as un,a3 as cn,a4 as hn,i as fn,o as vn,h as M,g as $,bo as je,bk as Oe,A as W,I as ft,ae as pn,aK as O,N as mn,aS as gn,f as wn,_ as yn}from"./main-2bbc1e4d.js";import{r as bn,c as xn}from"./requestAnimationFrameGrace-eaa77346.js";import{g as _n}from"./assets-kit-fa4c280b.js";import{u as kn}from"./full-d8d6b773.js";import{u as Sn}from"./use-merged-state-9f4efc58.js";import{u as et,V as Cn,a as Mn,b as En}from"./Follower-24c12859.js";import{_ as Pn}from"./Space-2f7596b3.js";import{b as vt}from"./route-block-7ae06361.js";import"./next-frame-once-c806eabc.js";import"./on-fonts-ready-7da15eac.js";import"./get-slot-849b428a.js";const $n=e=>{const t="rgba(0, 0, 0, .85)",s="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:n,primaryColor:r,baseColor:i,cardColor:d,modalColor:l,popoverColor:f,borderRadius:w,fontSize:z,opacityDisabled:P}=e;return Object.assign(Object.assign({},Zt),{fontSize:z,railColor:n,railColorHover:n,fillColor:r,fillColorHover:r,opacityDisabled:P,handleColor:"#FFF",dotColor:d,dotColorModal:l,dotColorPopover:f,handleBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowHover:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowActive:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowFocus:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",indicatorColor:t,indicatorBoxShadow:s,indicatorTextColor:i,indicatorBorderRadius:w,dotBorder:`2px solid ${n}`,dotBorderActive:`2px solid ${r}`,dotBoxShadow:""})},Dn={name:"Slider",common:Gt,self:$n},Rn=Dn;function pt(e){return window.TouchEvent&&e instanceof window.TouchEvent}function mt(){const e=D(new Map),t=s=>n=>{e.value.set(s,n)};return Qt(()=>e.value.clear()),[e,t]}const zn=De([v("slider",`
 display: block;
 padding: calc((var(--n-handle-size) - var(--n-rail-height)) / 2) 0;
 position: relative;
 z-index: 0;
 width: 100%;
 cursor: pointer;
 user-select: none;
 -webkit-user-select: none;
 `,[U("reverse",[v("slider-handles",[v("slider-handle-wrapper",`
 transform: translate(50%, -50%);
 `)]),v("slider-dots",[v("slider-dot",`
 transform: translateX(50%, -50%);
 `)]),U("vertical",[v("slider-handles",[v("slider-handle-wrapper",`
 transform: translate(-50%, -50%);
 `)]),v("slider-marks",[v("slider-mark",`
 transform: translateY(calc(-50% + var(--n-dot-height) / 2));
 `)]),v("slider-dots",[v("slider-dot",`
 transform: translateX(-50%) translateY(0);
 `)])])]),U("vertical",`
 padding: 0 calc((var(--n-handle-size) - var(--n-rail-height)) / 2);
 width: var(--n-rail-width-vertical);
 height: 100%;
 `,[v("slider-handles",`
 top: calc(var(--n-handle-size) / 2);
 right: 0;
 bottom: calc(var(--n-handle-size) / 2);
 left: 0;
 `,[v("slider-handle-wrapper",`
 top: unset;
 left: 50%;
 transform: translate(-50%, 50%);
 `)]),v("slider-rail",`
 height: 100%;
 `,[Ke("fill",`
 top: unset;
 right: 0;
 bottom: unset;
 left: 0;
 `)]),U("with-mark",`
 width: var(--n-rail-width-vertical);
 margin: 0 32px 0 8px;
 `),v("slider-marks",`
 top: calc(var(--n-handle-size) / 2);
 right: unset;
 bottom: calc(var(--n-handle-size) / 2);
 left: 22px;
 `,[v("slider-mark",`
 transform: translateY(50%);
 white-space: nowrap;
 `)]),v("slider-dots",`
 top: calc(var(--n-handle-size) / 2);
 right: unset;
 bottom: calc(var(--n-handle-size) / 2);
 left: 50%;
 `,[v("slider-dot",`
 transform: translateX(-50%) translateY(50%);
 `)])]),U("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `,[v("slider-handle",`
 cursor: not-allowed;
 `)]),U("with-mark",`
 width: 100%;
 margin: 8px 0 32px 0;
 `),De("&:hover",[v("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[Ke("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),v("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),U("active",[v("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[Ke("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),v("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),v("slider-marks",`
 position: absolute;
 top: 18px;
 left: calc(var(--n-handle-size) / 2);
 right: calc(var(--n-handle-size) / 2);
 `,[v("slider-mark",`
 position: absolute;
 transform: translateX(-50%);
 white-space: nowrap;
 `)]),v("slider-rail",`
 width: 100%;
 position: relative;
 height: var(--n-rail-height);
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 border-radius: calc(var(--n-rail-height) / 2);
 `,[Ke("fill",`
 position: absolute;
 top: 0;
 bottom: 0;
 border-radius: calc(var(--n-rail-height) / 2);
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-fill-color);
 `)]),v("slider-handles",`
 position: absolute;
 top: 0;
 right: calc(var(--n-handle-size) / 2);
 bottom: 0;
 left: calc(var(--n-handle-size) / 2);
 `,[v("slider-handle-wrapper",`
 outline: none;
 position: absolute;
 top: 50%;
 transform: translate(-50%, -50%);
 cursor: pointer;
 display: flex;
 `,[v("slider-handle",`
 height: var(--n-handle-size);
 width: var(--n-handle-size);
 border-radius: 50%;
 overflow: hidden;
 transition: box-shadow .2s var(--n-bezier), background-color .3s var(--n-bezier);
 background-color: var(--n-handle-color);
 box-shadow: var(--n-handle-box-shadow);
 `,[De("&:hover",`
 box-shadow: var(--n-handle-box-shadow-hover);
 `)]),De("&:focus",[v("slider-handle",`
 box-shadow: var(--n-handle-box-shadow-focus);
 `,[De("&:hover",`
 box-shadow: var(--n-handle-box-shadow-active);
 `)])])])]),v("slider-dots",`
 position: absolute;
 top: 50%;
 left: calc(var(--n-handle-size) / 2);
 right: calc(var(--n-handle-size) / 2);
 `,[U("transition-disabled",[v("slider-dot","transition: none;")]),v("slider-dot",`
 transition:
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 position: absolute;
 transform: translate(-50%, -50%);
 height: var(--n-dot-height);
 width: var(--n-dot-width);
 border-radius: var(--n-dot-border-radius);
 overflow: hidden;
 box-sizing: border-box;
 border: var(--n-dot-border);
 background-color: var(--n-dot-color);
 `,[U("active","border: var(--n-dot-border-active);")])])]),v("slider-handle-indicator",`
 font-size: var(--n-font-size);
 padding: 6px 10px;
 border-radius: var(--n-indicator-border-radius);
 color: var(--n-indicator-text-color);
 background-color: var(--n-indicator-color);
 box-shadow: var(--n-indicator-box-shadow);
 `,[dt()]),v("slider-handle-indicator",`
 font-size: var(--n-font-size);
 padding: 6px 10px;
 border-radius: var(--n-indicator-border-radius);
 color: var(--n-indicator-text-color);
 background-color: var(--n-indicator-color);
 box-shadow: var(--n-indicator-box-shadow);
 `,[U("top",`
 margin-bottom: 12px;
 `),U("right",`
 margin-left: 12px;
 `),U("bottom",`
 margin-top: 12px;
 `),U("left",`
 margin-right: 12px;
 `),dt()]),Jt(v("slider",[v("slider-dot","background-color: var(--n-dot-color-modal);")])),en(v("slider",[v("slider-dot","background-color: var(--n-dot-color-popover);")]))]),Fn=0,Tn=Object.assign(Object.assign({},Mt.props),{to:et.propTo,defaultValue:{type:[Number,Array],default:0},marks:Object,disabled:{type:Boolean,default:void 0},formatTooltip:Function,keyboard:{type:Boolean,default:!0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:[Number,String],default:1},range:Boolean,value:[Number,Array],placement:String,showTooltip:{type:Boolean,default:void 0},tooltip:{type:Boolean,default:!0},vertical:Boolean,reverse:Boolean,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),Bn=ye({name:"Slider",props:Tn,setup(e){const{mergedClsPrefixRef:t,namespaceRef:s,inlineThemeDisabled:n}=tn(e),r=Mt("Slider","-slider",zn,Rn,e,t),i=D(null),[d,l]=mt(),[f,w]=mt(),z=D(new Set),P=nn(e),{mergedDisabledRef:L}=P,g=N(()=>{const{step:o}=e;if(o<=0||o==="mark")return 0;const a=o.toString();let u=0;return a.includes(".")&&(u=a.length-a.indexOf(".")-1),u}),c=D(e.defaultValue),_=sn(e,"value"),y=Sn(_,c),B=N(()=>{const{value:o}=y;return(e.range?o:[o]).map(le)}),Q=N(()=>B.value.length>2),b=N(()=>e.placement===void 0?e.vertical?"right":"top":e.placement),ve=N(()=>{const{marks:o}=e;return o?Object.keys(o).map(parseFloat):null}),k=D(-1),be=D(-1),X=D(-1),H=D(!1),ne=D(!1),Y=N(()=>{const{vertical:o,reverse:a}=e;return o?a?"top":"bottom":a?"right":"left"}),se=N(()=>{if(Q.value)return;const o=B.value,a=_e(e.range?Math.min(...o):e.min),u=_e(e.range?Math.max(...o):o[0]),{value:p}=Y;return e.vertical?{[p]:`${a}%`,height:`${u-a}%`}:{[p]:`${a}%`,width:`${u-a}%`}}),Ee=N(()=>{const o=[],{marks:a}=e;if(a){const u=B.value.slice();u.sort((A,V)=>A-V);const{value:p}=Y,{value:S}=Q,{range:F}=e,te=S?()=>!1:A=>F?A>=u[0]&&A<=u[u.length-1]:A<=u[0];for(const A of Object.keys(a)){const V=Number(A);o.push({active:te(V),label:a[A],style:{[p]:`${_e(V)}%`}})}}return o});function J(o,a){const u=_e(o),{value:p}=Y;return{[p]:`${u}%`,zIndex:a===k.value?1:0}}function q(o){return e.showTooltip||X.value===o||k.value===o&&H.value}function Pe(o){return H.value?!(k.value===o&&be.value===o):!0}function xe(o){var a;~o&&(k.value=o,(a=d.value.get(o))===null||a===void 0||a.focus())}function m(){f.value.forEach((o,a)=>{q(a)&&o.syncPosition()})}function E(o){const{"onUpdate:value":a,onUpdateValue:u}=e,{nTriggerFormInput:p,nTriggerFormChange:S}=P;u&&ht(u,o),a&&ht(a,o),c.value=o,p(),S()}function x(o){const{range:a}=e;if(a){if(Array.isArray(o)){const{value:u}=B;o.join()!==u.join()&&E(o)}}else Array.isArray(o)||B.value[0]!==o&&E(o)}function C(o,a){if(e.range){const u=B.value.slice();u.splice(a,1,o),x(u)}else x(o)}function pe(o,a,u){const p=u!==void 0;u||(u=o-a>0?1:-1);const S=ve.value||[],{step:F}=e;if(F==="mark"){const V=de(o,S.concat(a),p?u:void 0);return V?V.value:a}if(F<=0)return a;const{value:te}=g;let A;if(p){const V=Number((a/F).toFixed(te)),ue=Math.floor(V),Ge=V>ue?ue:ue-1,Ze=V<ue?ue:ue+1;A=de(a,[Number((Ge*F).toFixed(te)),Number((Ze*F).toFixed(te)),...S],u)}else{const V=Le(o);A=de(o,[...S,V])}return A?le(A.value):a}function le(o){return Math.min(e.max,Math.max(e.min,o))}function _e(o){const{max:a,min:u}=e;return(o-u)/(a-u)*100}function We(o){const{max:a,min:u}=e;return u+(a-u)*o}function Le(o){const{step:a,min:u}=e;if(a<=0||a==="mark")return o;const p=Math.round((o-u)/a)*a+u;return Number(p.toFixed(g.value))}function de(o,a=ve.value,u){if(!(a!=null&&a.length))return null;let p=null,S=-1;for(;++S<a.length;){const F=a[S]-o,te=Math.abs(F);(u===void 0||F*u>0)&&(p===null||te<p.distance)&&(p={index:S,distance:te,value:a[S]})}return p}function Ae(o){const a=i.value;if(!a)return;const u=pt(o)?o.touches[0]:o,p=a.getBoundingClientRect();let S;return e.vertical?S=(p.bottom-u.clientY)/p.height:S=(u.clientX-p.left)/p.width,e.reverse&&(S=1-S),We(S)}function Ve(o){if(L.value||!e.keyboard)return;const{vertical:a,reverse:u}=e;switch(o.key){case"ArrowUp":o.preventDefault(),me(a&&u?-1:1);break;case"ArrowRight":o.preventDefault(),me(!a&&u?-1:1);break;case"ArrowDown":o.preventDefault(),me(a&&u?1:-1);break;case"ArrowLeft":o.preventDefault(),me(!a&&u?1:-1);break}}function me(o){const a=k.value;if(a===-1)return;const{step:u}=e,p=B.value[a],S=u<=0||u==="mark"?p:p+u*o;C(pe(S,p,o>0?1:-1),a)}function ee(o){var a,u;if(L.value||!pt(o)&&o.button!==Fn)return;const p=Ae(o);if(p===void 0)return;const S=B.value.slice(),F=e.range?(u=(a=de(p,S))===null||a===void 0?void 0:a.index)!==null&&u!==void 0?u:-1:0;F!==-1&&(o.preventDefault(),xe(F),$e(),C(pe(p,B.value[F]),F))}function $e(){H.value||(H.value=!0,He("touchend",document,Ne),He("mouseup",document,Ne),He("touchmove",document,Ie),He("mousemove",document,Ie))}function re(){H.value&&(H.value=!1,Ue("touchend",document,Ne),Ue("mouseup",document,Ne),Ue("touchmove",document,Ie),Ue("mousemove",document,Ie))}function Ie(o){const{value:a}=k;if(!H.value||a===-1){re();return}const u=Ae(o);C(pe(u,B.value[a]),a)}function Ne(){re()}function Tt(o){k.value=o,L.value||(X.value=o)}function Bt(o){k.value===o&&(k.value=-1,re()),X.value===o&&(X.value=-1)}function Lt(o){X.value=o}function At(o){X.value===o&&(X.value=-1)}ut(k,(o,a)=>void Qe(()=>be.value=a)),ut(y,()=>{if(e.marks){if(ne.value)return;ne.value=!0,Qe(()=>{ne.value=!1})}Qe(m)}),Et(()=>{re()});const at=N(()=>{const{self:{railColor:o,railColorHover:a,fillColor:u,fillColorHover:p,handleColor:S,opacityDisabled:F,dotColor:te,dotColorModal:A,handleBoxShadow:V,handleBoxShadowHover:ue,handleBoxShadowActive:Ge,handleBoxShadowFocus:Ze,dotBorder:Vt,dotBoxShadow:It,railHeight:Nt,railWidthVertical:Kt,handleSize:Ht,dotHeight:Ut,dotWidth:jt,dotBorderRadius:Ot,fontSize:Xt,dotBorderActive:Yt,dotColorPopover:qt},common:{cubicBezierEaseInOut:Wt}}=r.value;return{"--n-bezier":Wt,"--n-dot-border":Vt,"--n-dot-border-active":Yt,"--n-dot-border-radius":Ot,"--n-dot-box-shadow":It,"--n-dot-color":te,"--n-dot-color-modal":A,"--n-dot-color-popover":qt,"--n-dot-height":Ut,"--n-dot-width":jt,"--n-fill-color":u,"--n-fill-color-hover":p,"--n-font-size":Xt,"--n-handle-box-shadow":V,"--n-handle-box-shadow-active":Ge,"--n-handle-box-shadow-focus":Ze,"--n-handle-box-shadow-hover":ue,"--n-handle-color":S,"--n-handle-size":Ht,"--n-opacity-disabled":F,"--n-rail-color":o,"--n-rail-color-hover":a,"--n-rail-height":Nt,"--n-rail-width-vertical":Kt}}),ke=n?ct("slider",void 0,at,e):void 0,lt=N(()=>{const{self:{fontSize:o,indicatorColor:a,indicatorBoxShadow:u,indicatorTextColor:p,indicatorBorderRadius:S}}=r.value;return{"--n-font-size":o,"--n-indicator-border-radius":S,"--n-indicator-box-shadow":u,"--n-indicator-color":a,"--n-indicator-text-color":p}}),Se=n?ct("slider-indicator",void 0,lt,e):void 0;return{mergedClsPrefix:t,namespace:s,uncontrolledValue:c,mergedValue:y,mergedDisabled:L,mergedPlacement:b,isMounted:rn(),adjustedTo:et(e),dotTransitionDisabled:ne,markInfos:Ee,isShowTooltip:q,shouldKeepTooltipTransition:Pe,handleRailRef:i,setHandleRefs:l,setFollowerRefs:w,fillStyle:se,getHandleStyle:J,activeIndex:k,arrifiedValues:B,followerEnabledIndexSet:z,handleRailMouseDown:ee,handleHandleFocus:Tt,handleHandleBlur:Bt,handleHandleMouseEnter:Lt,handleHandleMouseLeave:At,handleRailKeyDown:Ve,indicatorCssVars:n?void 0:lt,indicatorThemeClass:Se==null?void 0:Se.themeClass,indicatorOnRender:Se==null?void 0:Se.onRender,cssVars:n?void 0:at,themeClass:ke==null?void 0:ke.themeClass,onRender:ke==null?void 0:ke.onRender}},render(){var e;const{mergedClsPrefix:t,themeClass:s,formatTooltip:n}=this;return(e=this.onRender)===null||e===void 0||e.call(this),I("div",{class:[`${t}-slider`,s,{[`${t}-slider--disabled`]:this.mergedDisabled,[`${t}-slider--active`]:this.activeIndex!==-1,[`${t}-slider--with-mark`]:this.marks,[`${t}-slider--vertical`]:this.vertical,[`${t}-slider--reverse`]:this.reverse}],style:this.cssVars,onKeydown:this.handleRailKeyDown,onMousedown:this.handleRailMouseDown,onTouchstart:this.handleRailMouseDown},I("div",{class:`${t}-slider-rail`},I("div",{class:`${t}-slider-rail__fill`,style:this.fillStyle}),this.marks?I("div",{class:[`${t}-slider-dots`,this.dotTransitionDisabled&&`${t}-slider-dots--transition-disabled`]},this.markInfos.map(r=>I("div",{key:r.label,class:[`${t}-slider-dot`,{[`${t}-slider-dot--active`]:r.active}],style:r.style}))):null,I("div",{ref:"handleRailRef",class:`${t}-slider-handles`},this.arrifiedValues.map((r,i)=>{const d=this.isShowTooltip(i);return I(Cn,null,{default:()=>[I(Mn,null,{default:()=>I("div",{ref:this.setHandleRefs(i),class:`${t}-slider-handle-wrapper`,tabindex:this.mergedDisabled?-1:0,style:this.getHandleStyle(r,i),onFocus:()=>this.handleHandleFocus(i),onBlur:()=>this.handleHandleBlur(i),onMouseenter:()=>this.handleHandleMouseEnter(i),onMouseleave:()=>this.handleHandleMouseLeave(i)},on(this.$slots.thumb,()=>[I("div",{class:`${t}-slider-handle`})]))}),this.tooltip&&I(En,{ref:this.setFollowerRefs(i),show:d,to:this.adjustedTo,enabled:this.showTooltip&&!this.range||this.followerEnabledIndexSet.has(i),teleportDisabled:this.adjustedTo===et.tdkey,placement:this.mergedPlacement,containerClass:this.namespace},{default:()=>I(an,{name:"fade-in-scale-up-transition",appear:this.isMounted,css:this.shouldKeepTooltipTransition(i),onEnter:()=>{this.followerEnabledIndexSet.add(i)},onAfterLeave:()=>{this.followerEnabledIndexSet.delete(i)}},{default:()=>{var l;return d?((l=this.indicatorOnRender)===null||l===void 0||l.call(this),I("div",{class:[`${t}-slider-handle-indicator`,this.indicatorThemeClass,`${t}-slider-handle-indicator--${this.mergedPlacement}`],style:this.indicatorCssVars},typeof n=="function"?n(r):r)):null}})})]})})),this.marks?I("div",{class:`${t}-slider-marks`},this.markInfos.map(r=>I("div",{key:r.label,class:`${t}-slider-mark`,style:r.style},r.label))):null))}}),Ln={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},An=he("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"44",d:"M358.62 129.28L86.49 402.08L70 442l39.92-16.49l272.8-272.13l-24.1-24.1z"},null,-1),Vn=he("path",{d:"M413.07 74.84l-11.79 11.78l24.1 24.1l11.79-11.79a16.51 16.51 0 0 0 0-23.34l-.75-.75a16.51 16.51 0 0 0-23.35 0z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"44"},null,-1),In=[An,Vn],gt=ye({name:"Pencil",render:function(t,s){return ce(),ge("svg",Ln,In)}}),Nn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Kn=he("path",{d:"M336 96a80 80 0 1 0-96 78.39v283.17a32.09 32.09 0 0 0 2.49 12.38l10.07 24a3.92 3.92 0 0 0 6.88 0l10.07-24a32.09 32.09 0 0 0 2.49-12.38V174.39A80.13 80.13 0 0 0 336 96zm-56 0a24 24 0 1 1 24-24a24 24 0 0 1-24 24z",fill:"currentColor"},null,-1),Hn=[Kn],Un=ye({name:"Pin",render:function(t,s){return ce(),ge("svg",Nn,Hn)}}),jn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},On=he("circle",{cx:"256",cy:"96",r:"64",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Xn=he("path",{d:"M272 164a9 9 0 0 0-9-9h-14a9 9 0 0 0-9 9v293.56a32.09 32.09 0 0 0 2.49 12.38l10.07 24a3.92 3.92 0 0 0 6.88 0l10.07-24a32.09 32.09 0 0 0 2.49-12.38z",fill:"currentColor"},null,-1),Yn=he("circle",{cx:"280",cy:"72",r:"24",fill:"currentColor"},null,-1),qn=[On,Xn,Yn],Wn=ye({name:"PinOutline",render:function(t,s){return ce(),ge("svg",jn,qn)}}),Gn=ye({__name:"index",props:{storageKey:null,initial:null},setup(e){var d;const t=e,s=D(null),n=(d=t.initial)!=null?d:{x:0,y:0},r=t.storageKey?it(t.storageKey,n):D(n),{style:i}=ln(s,{initialValue:r});return(l,f)=>(ce(),ge("div",{ref_key:"el",ref:s,class:"fixed",style:Te(h(i))},[dn(l.$slots,"default")],4))}});function wt(e,t,s,n=r=>r){return e*n(.5-t*(.5-s))}function Zn(e){return[-e[0],-e[1]]}function Z(e,t){return[e[0]+t[0],e[1]+t[1]]}function j(e,t){return[e[0]-t[0],e[1]-t[1]]}function G(e,t){return[e[0]*t,e[1]*t]}function Qn(e,t){return[e[0]/t,e[1]/t]}function Re(e){return[e[1],-e[0]]}function yt(e,t){return e[0]*t[0]+e[1]*t[1]}function Jn(e,t){return e[0]===t[0]&&e[1]===t[1]}function es(e){return Math.hypot(e[0],e[1])}function ts(e){return e[0]*e[0]+e[1]*e[1]}function bt(e,t){return ts(j(e,t))}function Pt(e){return Qn(e,es(e))}function ns(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function ze(e,t,s){let n=Math.sin(s),r=Math.cos(s),i=e[0]-t[0],d=e[1]-t[1],l=i*r-d*n,f=i*n+d*r;return[l+t[0],f+t[1]]}function tt(e,t,s){return Z(e,G(j(t,e),s))}function xt(e,t,s){return Z(e,G(t,s))}var{min:Ce,PI:ss}=Math,_t=.275,Fe=ss+1e-4;function rs(e,t={}){let{size:s=16,smoothing:n=.5,thinning:r=.5,simulatePressure:i=!0,easing:d=m=>m,start:l={},end:f={},last:w=!1}=t,{cap:z=!0,easing:P=m=>m*(2-m)}=l,{cap:L=!0,easing:g=m=>--m*m*m+1}=f;if(e.length===0||s<=0)return[];let c=e[e.length-1].runningLength,_=l.taper===!1?0:l.taper===!0?Math.max(s,c):l.taper,y=f.taper===!1?0:f.taper===!0?Math.max(s,c):f.taper,B=Math.pow(s*n,2),Q=[],b=[],ve=e.slice(0,10).reduce((m,E)=>{let x=E.pressure;if(i){let C=Ce(1,E.distance/s),pe=Ce(1,1-C);x=Ce(1,m+(pe-m)*(C*_t))}return(m+x)/2},e[0].pressure),k=wt(s,r,e[e.length-1].pressure,d),be,X=e[0].vector,H=e[0].point,ne=H,Y=H,se=ne,Ee=!1;for(let m=0;m<e.length;m++){let{pressure:E}=e[m],{point:x,vector:C,distance:pe,runningLength:le}=e[m];if(m<e.length-1&&c-le<3)continue;if(r){if(i){let ee=Ce(1,pe/s),$e=Ce(1,1-ee);E=Ce(1,ve+($e-ve)*(ee*_t))}k=wt(s,r,E,d)}else k=s/2;be===void 0&&(be=k);let _e=le<_?P(le/_):1,We=c-le<y?g((c-le)/y):1;k=Math.max(.01,k*Math.min(_e,We));let Le=(m<e.length-1?e[m+1]:e[m]).vector,de=m<e.length-1?yt(C,Le):1,Ae=yt(C,X)<0&&!Ee,Ve=de!==null&&de<0;if(Ae||Ve){let ee=G(Re(X),k);for(let $e=1/13,re=0;re<=1;re+=$e)Y=ze(j(x,ee),x,Fe*re),Q.push(Y),se=ze(Z(x,ee),x,Fe*-re),b.push(se);H=Y,ne=se,Ve&&(Ee=!0);continue}if(Ee=!1,m===e.length-1){let ee=G(Re(C),k);Q.push(j(x,ee)),b.push(Z(x,ee));continue}let me=G(Re(tt(Le,C,de)),k);Y=j(x,me),(m<=1||bt(H,Y)>B)&&(Q.push(Y),H=Y),se=Z(x,me),(m<=1||bt(ne,se)>B)&&(b.push(se),ne=se),ve=E,X=C}let J=e[0].point.slice(0,2),q=e.length>1?e[e.length-1].point.slice(0,2):Z(e[0].point,[1,1]),Pe=[],xe=[];if(e.length===1){if(!(_||y)||w){let m=xt(J,Pt(Re(j(J,q))),-(be||k)),E=[];for(let x=1/13,C=x;C<=1;C+=x)E.push(ze(m,J,Fe*2*C));return E}}else{if(!(_||y&&e.length===1))if(z)for(let E=1/13,x=E;x<=1;x+=E){let C=ze(b[0],J,Fe*x);Pe.push(C)}else{let E=j(Q[0],b[0]),x=G(E,.5),C=G(E,.51);Pe.push(j(J,x),j(J,C),Z(J,C),Z(J,x))}let m=Re(Zn(e[e.length-1].vector));if(y||_&&e.length===1)xe.push(q);else if(L){let E=xt(q,m,k);for(let x=1/29,C=x;C<1;C+=x)xe.push(ze(E,q,Fe*3*C))}else xe.push(Z(q,G(m,k)),Z(q,G(m,k*.99)),j(q,G(m,k*.99)),j(q,G(m,k)))}return Q.concat(xe,b.reverse(),Pe)}function os(e,t={}){var s;let{streamline:n=.5,size:r=16,last:i=!1}=t;if(e.length===0)return[];let d=.15+(1-n)*.85,l=Array.isArray(e[0])?e:e.map(({x:g,y:c,pressure:_=.5})=>[g,c,_]);if(l.length===2){let g=l[1];l=l.slice(0,-1);for(let c=1;c<5;c++)l.push(tt(l[0],g,c/4))}l.length===1&&(l=[...l,[...Z(l[0],[1,1]),...l[0].slice(2)]]);let f=[{point:[l[0][0],l[0][1]],pressure:l[0][2]>=0?l[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],w=!1,z=0,P=f[0],L=l.length-1;for(let g=1;g<l.length;g++){let c=i&&g===L?l[g].slice(0,2):tt(P.point,l[g],d);if(Jn(P.point,c))continue;let _=ns(c,P.point);if(z+=_,g<L&&!w){if(z<r)continue;w=!0}P={point:c,pressure:l[g][2]>=0?l[g][2]:.5,vector:Pt(j(P.point,c)),distance:_,runningLength:z},f.push(P)}return f[0].vector=((s=f[1])==null?void 0:s.vector)||[0,0],f}function is(e,t={}){return rs(os(e,t),t)}var as=()=>({events:{},emit(e,...t){let s=this.events[e]||[];for(let n=0,r=s.length;n<r;n++)s[n](...t)},on(e,t){var s;return(s=this.events[e])!=null&&s.push(t)||(this.events[e]=[t]),()=>{var n;this.events[e]=(n=this.events[e])==null?void 0:n.filter(r=>t!==r)}}});function Xe(e,t){return e-t}function ls(e){return e<0?-1:1}function Ye(e){return[Math.abs(e),ls(e)]}function $t(){const e=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${e()+e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`}var ds=2,ie=ds,Me=class{constructor(e){this.drauu=e,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(e){}onUnselected(){}onStart(e){}onMove(e){return!1}onEnd(e){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(e){var r;var t;const s=this.drauu.el,n=(r=this.drauu.options.coordinateScale)!=null?r:1;if(this.drauu.options.coordinateTransform===!1){const i=this.drauu.el.getBoundingClientRect();return{x:(e.pageX-i.left)*n,y:(e.pageY-i.top)*n,pressure:e.pressure}}else{const i=this.drauu.svgPoint;i.x=e.clientX,i.y=e.clientY;const d=i.matrixTransform((t=s.getScreenCTM())==null?void 0:t.inverse());return{x:d.x*n,y:d.y*n,pressure:e.pressure}}}createElement(e,t){var r;const s=document.createElementNS("http://www.w3.org/2000/svg",e),n=t?{...this.brush,...t}:this.brush;return s.setAttribute("fill",(r=n.fill)!=null?r:"transparent"),s.setAttribute("stroke",n.color),s.setAttribute("stroke-width",n.size.toString()),s.setAttribute("stroke-linecap","round"),n.dasharray&&s.setAttribute("stroke-dasharray",n.dasharray),s}attr(e,t){this.el.setAttribute(e,typeof t=="string"?t:t.toFixed(ie))}_setEvent(e){this.event=e,this.point=this.getMousePosition(e)}_eventDown(e){return this._setEvent(e),this.start=this.point,this.onStart(this.point)}_eventMove(e){return this._setEvent(e),this.onMove(this.point)}_eventUp(e){return this._setEvent(e),this.onEnd(this.point)}},us=class extends Me{constructor(){super(...arguments),this.points=[]}onStart(e){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[e],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&this.points.push(e),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const e=this.el;return this.el=null,!!e}getSvgData(e){const t=is(e,{size:this.brush.size*2,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5},...this.brush.stylusOptions});if(!t.length)return"";const s=t.reduce((n,[r,i],d,l)=>{const[f,w]=l[(d+1)%l.length];return n.push(r,i,(r+f)/2,(i+w)/2),n},["M",...t[0],"Q"]);return s.push("Z"),s.map(n=>typeof n=="number"?n.toFixed(2):n).join(" ")}},cs=class extends Me{onStart(e){return this.el=this.createElement("ellipse"),this.attr("cx",e.x),this.attr("cy",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,s]=Ye(e.x-this.start.x),[n,r]=Ye(e.y-this.start.y);if(this.shiftPressed){const i=Math.min(t,n);t=i,n=i}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",t),this.attr("ry",n);else{const[i,d]=[this.start.x,this.start.x+t*s].sort(Xe),[l,f]=[this.start.y,this.start.y+n*r].sort(Xe);this.attr("cx",(i+d)/2),this.attr("cy",(l+f)/2),this.attr("rx",(d-i)/2),this.attr("ry",(f-l)/2)}return!0}onEnd(){const e=this.el;return this.el=null,!(!e||!e.getTotalLength())}};function Dt(e,t){const s=document.createElementNS("http://www.w3.org/2000/svg","defs"),n=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("fill",t),n.setAttribute("id",e),n.setAttribute("viewBox","0 -5 10 10"),n.setAttribute("refX","5"),n.setAttribute("refY","0"),n.setAttribute("markerWidth","4"),n.setAttribute("markerHeight","4"),n.setAttribute("orient","auto"),r.setAttribute("d","M0,-5L10,0L0,5"),n.appendChild(r),s.appendChild(n),s}var hs=class extends Me{onStart(e){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",e.x),this.attr("y1",e.y),this.attr("x2",e.x),this.attr("y2",e.y),this.brush.arrowEnd){const t=$t(),s=document.createElementNS("http://www.w3.org/2000/svg","g");return s.append(Dt(t,this.brush.color)),s.append(this.el),this.attr("marker-end",`url(#${t})`),s}return this.el}onMove(e){if(!this.el)return!1;let{x:t,y:s}=e;if(this.shiftPressed){const n=e.x-this.start.x,r=e.y-this.start.y;if(r!==0){let i=n/r;i=Math.round(i),Math.abs(i)<=1?(t=this.start.x+r*i,s=this.start.y+r):(t=this.start.x+n,s=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-t),this.attr("y1",this.start.y*2-s),this.attr("x2",t),this.attr("y2",s)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",t),this.attr("y2",s)),!0}onEnd(){const e=this.el;return this.el=null,!(!e||e.getTotalLength()<5)}},fs=class extends Me{onStart(e){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",e.x),this.attr("y",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,s]=Ye(e.x-this.start.x),[n,r]=Ye(e.y-this.start.y);if(this.shiftPressed){const i=Math.min(t,n);t=i,n=i}if(this.altPressed)this.attr("x",this.start.x-t),this.attr("y",this.start.y-n),this.attr("width",t*2),this.attr("height",n*2);else{const[i,d]=[this.start.x,this.start.x+t*s].sort(Xe),[l,f]=[this.start.y,this.start.y+n*r].sort(Xe);this.attr("x",i),this.attr("y",l),this.attr("width",d-i),this.attr("height",f-l)}return!0}onEnd(){const e=this.el;return this.el=null,!(!e||!e.getTotalLength())}};function vs(e,t){const s=e.x-t.x,n=e.y-t.y;return s*s+n*n}function ps(e,t,s){let n=t.x,r=t.y,i=s.x-n,d=s.y-r;if(i!==0||d!==0){const l=((e.x-n)*i+(e.y-r)*d)/(i*i+d*d);l>1?(n=s.x,r=s.y):l>0&&(n+=i*l,r+=d*l)}return i=e.x-n,d=e.y-r,i*i+d*d}function ms(e,t){let s=e[0];const n=[s];let r;for(let i=1,d=e.length;i<d;i++)r=e[i],vs(r,s)>t&&(n.push(r),s=r);return s!==r&&r&&n.push(r),n}function nt(e,t,s,n,r){let i=n,d=0;for(let l=t+1;l<s;l++){const f=ps(e[l],e[t],e[s]);f>i&&(d=l,i=f)}i>n&&(d-t>1&&nt(e,t,d,n,r),r.push(e[d]),s-d>1&&nt(e,d,s,n,r))}function gs(e,t){const s=e.length-1,n=[e[0]];return nt(e,0,s,t,n),n.push(e[s]),n}function kt(e,t,s=!1){if(e.length<=2)return e;const n=t!==void 0?t*t:1;return e=s?e:ms(e,n),e=gs(e,n),e}var ws=class extends Me{constructor(){super(...arguments),this.points=[],this.count=0}onStart(e){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[e],this.brush.arrowEnd){this.arrowId=$t();const t=Dt(this.arrowId,this.brush.color);this.el.appendChild(t)}return this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&(this.points.push(e),this.count+=1),this.count>5&&(this.points=kt(this.points,1,!0),this.count=0),this.attr("d",Ct(this.points)),!0}onEnd(){const e=this.el;return this.el=null,!(!e||(e.setAttribute("d",Ct(kt(this.points,1,!0))),!e.getTotalLength()))}};function ys(e,t){const s=t.x-e.x,n=t.y-e.y;return{length:Math.sqrt(Math.pow(s,2)+Math.pow(n,2)),angle:Math.atan2(n,s)}}function St(e,t,s,n){const r=t||e,i=s||e,d=.2,l=ys(r,i),f=l.angle+(n?Math.PI:0),w=l.length*d,z=e.x+Math.cos(f)*w,P=e.y+Math.sin(f)*w;return{x:z,y:P}}function bs(e,t,s){const n=St(s[t-1],s[t-2],e),r=St(e,s[t-1],s[t+1],!0);return`C ${n.x.toFixed(ie)},${n.y.toFixed(ie)} ${r.x.toFixed(ie)},${r.y.toFixed(ie)} ${e.x.toFixed(ie)},${e.y.toFixed(ie)}`}function Ct(e){return e.reduce((t,s,n,r)=>n===0?`M ${s.x.toFixed(ie)},${s.y.toFixed(ie)}`:`${t} ${bs(s,n,r)}`,"")}var xs=class extends Me{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[]}onSelected(e){const t=(s,n)=>{if(s&&s.length)for(let r=0;r<s.length;r++){const i=s[r];if(i.getTotalLength){const d=i.getTotalLength();for(let l=0;l<this.pathSubFactor;l++){const f=i.getPointAtLength(d*l/this.pathSubFactor),w=i.getPointAtLength(d*(l+1)/this.pathSubFactor);this.pathFragments.push({x1:f.x,x2:w.x,y1:f.y,y2:w.y,segment:l,element:n||i})}}else i.children&&t(i.children,i)}};e&&t(e.children)}onUnselected(){this.pathFragments=[]}onStart(e){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=e.x,this.svgPointPrevious.y=e.y}onMove(e){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=e.x,this.svgPointCurrent.y=e.y;const t=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,t}onEnd(){return this.svgPointPrevious=void 0,this.svgPointCurrent=void 0,!0}checkAndEraseElement(){const e=[];if(this.pathFragments.length)for(let t=0;t<this.pathFragments.length;t++){const s=this.pathFragments[t],n={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(s,n)&&(s.element.remove(),e.push(t))}return e.length&&(this.pathFragments=this.pathFragments.filter((t,s)=>!e.includes(s))),e.length>0}lineLineIntersect(e,t){const s=e.x1,n=e.x2,r=t.x1,i=t.x2,d=e.y1,l=e.y2,f=t.y1,w=t.y2,z=(s-n)*(f-w)-(d-l)*(r-i),P=(s*l-d*n)*(r-i)-(s-n)*(r*w-f*i),L=(s*l-d*n)*(f-w)-(d-l)*(r*w-f*i),g=(c,_,y)=>c>=_&&c<=y?!0:c>=y&&c<=_;if(z===0)return!1;{const c={x:P/z,y:L/z};return g(c.x,s,n)&&g(c.y,d,l)&&g(c.x,r,i)&&g(c.y,f,w)}}};function _s(e){return{draw:new ws(e),stylus:new us(e),line:new hs(e),rectangle:new fs(e),ellipse:new cs(e),eraseLine:new xs(e)}}var ks=class{constructor(e={}){this.options=e,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=as(),this._models=_s(this),this._undoStack=[],this._disposables=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),e.el&&this.mount(e.el,e.eventTarget)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(e){this._models[this.mode].onUnselected(),this.options.brush.mode=e,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(e){this.options.brush=e}resolveSelector(e){return typeof e=="string"?document.querySelector(e):e||null}mount(e,t){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(e),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const s=this.resolveSelector(t)||this.el,n=this.eventStart.bind(this),r=this.eventMove.bind(this),i=this.eventEnd.bind(this),d=this.eventKeyboard.bind(this);s.addEventListener("pointerdown",n,{passive:!1}),window.addEventListener("pointermove",r,{passive:!1}),window.addEventListener("pointerup",i,{passive:!1}),window.addEventListener("pointercancel",i,{passive:!1}),window.addEventListener("keydown",d,!1),window.addEventListener("keyup",d,!1),this._disposables.push(()=>{s.removeEventListener("pointerdown",n),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",i),window.removeEventListener("pointercancel",i),window.removeEventListener("keydown",d,!1),window.removeEventListener("keyup",d,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(e=>e()),this._disposables.length=0,this.el=null,this._emitter.emit("unmounted")}on(e,t){return this._emitter.on(e,t)}undo(){const e=this.el;return e.lastElementChild?(this._undoStack.push(e.lastElementChild.cloneNode(!0)),e.lastElementChild.remove(),this._emitter.emit("changed"),!0):!1}redo(){return this._undoStack.length?(this.el.appendChild(this._undoStack.pop()),this._emitter.emit("changed"),!0):!1}canRedo(){return!!this._undoStack.length}canUndo(){var e;return!!((e=this.el)!=null&&e.lastElementChild)}eventMove(e){!this.acceptsInput(e)||!this.drawing||this.model._eventMove(e)&&(e.stopPropagation(),e.preventDefault(),this._emitter.emit("changed"))}eventStart(e){!this.acceptsInput(e)||(e.stopPropagation(),e.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._emitter.emit("start"),this._currentNode=this.model._eventDown(e),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(e){if(!this.acceptsInput(e)||!this.drawing)return;const t=this.model._eventUp(e);t?(t instanceof Element&&t!==this._currentNode&&(this._currentNode=t),this.commit()):this.cancel(),this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed")}acceptsInput(e){return!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(e.pointerType)}eventKeyboard(e){this.shiftPressed===e.shiftKey&&this.altPressed===e.altKey||(this.shiftPressed=e.shiftKey,this.altPressed=e.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(){this._undoStack.length=0;const e=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",e)}clear(){this._undoStack.length=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(e){this.clear(),this.el.innerHTML=e}};function Ss(e){return new ks(e)}const we=un(),fe=D(1),qe=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],ae=it("slidev-drawing-enabled",!1),oe=it("slidev-drawing-pinned",!1),st=D(!1),rt=D(!1),Be=D(!1),Rt=D(!1),Je=D(!1),T=N({get(){var e;return(e=we.getBrush[String(fe.value)])!=null?e:{color:qe[0],size:4,mode:"stylus",dasharray:void 0}},set(e){we.setBrush(String(fe.value),e)}});let ot=!1;const K=N({get(){var e;return(e=we.getDdrawingMode[String(fe.value)])!=null?e:"stylus"},set(e){we.setDdrawingMode(String(fe.value),e),e==="arrow"?T.value={...T.value,mode:"line",arrowEnd:!0}:T.value={...T.value,mode:e,arrowEnd:!1}}}),Cs=cn({brush:T,acceptsInputTypes:N(()=>ae.value?void 0:["pen"]),coordinateTransform:!1}),R=hn(Ss(Cs));function zt(){R.clear(),we.setDrauuDumpOne(String(fe.value),"")}function Ms(){var e;rt.value=R.canRedo(),st.value=R.canUndo(),Be.value=!!((e=R.el)!=null&&e.children.length)}function Es(e){fe.value=e}function Ps(e){ot=!0;const t=we.getDrauuDump[String(e||fe.value)];t?R.load(t):R.clear(),ot=!1,ae.value=!0}R.on("changed",()=>{if(!Je.value){const e=bn(()=>{Ms(),Je.value=!1,xn(e)});Je.value=!0}if(!ot){const e=R.dump(),t=String(fe.value);we.setDrauuDumpOne(t,e)}});R.on("start",()=>Rt.value=!0);R.on("end",()=>Rt.value=!1);window.addEventListener("keydown",e=>{if(!ae.value)return;const t=!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey;let s=!0;e.code==="KeyZ"&&(e.ctrlKey||e.metaKey||e.shiftKey)?e.shiftKey?R.redo():R.undo():e.code==="Escape"?ae.value=!1:e.code==="KeyL"&&t?K.value="line":e.code==="KeyA"&&t?K.value="arrow":e.code==="KeyS"&&t?K.value="stylus":e.code==="KeyD"&&t?K.value="draw":e.code==="KeyR"&&t?K.value="rectangle":e.code==="KeyE"&&t?K.value="ellipse":e.code==="KeyC"&&t?zt():e.code.startsWith("Digit")&&t&&+e.code[5]<=qe.length?T.value={...T.value,color:qe[+e.code[5]-1]}:s=!1,s&&(e.preventDefault(),e.stopPropagation())},!1);const $s=O(" \u89E6\u7B14(S) "),Ds=O(" \u7ED8\u753B(D) "),Rs=O(" \u76F4\u7EBF(L) "),zs=O(" \u76F4\u7EBF\u7BAD\u5934(A) "),Fs=O(" \u5706\u5F62(E) "),Ts=O(" \u6B63\u65B9\u5F62(R) "),Bs=O(" \u2505 "),Ls=O(" \u22EF "),As=O(" \u64A4\u9500(ctrl+Z) "),Vs=O(" \u590D\u4F4D(shift+Z) "),Is=O(" \u6E05\u9664(C) "),Ns=O(" \u4E0B\u8F7D "),Ks=ye({name:"drawing-drauu-did"}),Ft=ye({...Ks,props:{did:null},setup(e){const t=e,s=kn(),n=fn("provide-screen"),r=N(()=>s.getPage),i=D();vn(()=>{Es(Number(t.did)),R.mount(i.value),Ps(),w(K.value)}),Et(()=>{R.unmount()});function d(){R.undo()}function l(){R.redo()}function f(){R.el.setAttribute("xmlns","http://www.w3.org/2000/svg");const g=R.el.outerHTML||"",c=new Blob([g],{type:"image/svg+xml"}),_=window.document.createElement("a");_.href=window.URL.createObjectURL(c),_.download="drauu"+Number(t.did)+".svg",document.body.appendChild(_),_.click(),document.body.removeChild(_)}function w(g){K.value=g,ae.value=!0,L(void 0)}function z(g){T.value={...T.value,color:g},ae.value=!0}function P(g){T.value={...T.value,size:g},ae.value=!0}function L(g){T.value={...T.value,dasharray:g},ae.value=!0}return(g,c)=>{const _=mn,y=gn,B=Bn,Q=Pn;return ce(),ge(ft,null,[M(y,{type:"success",dashed:"",onClick:c[0]||(c[0]=b=>oe.value=!h(oe))},{default:$(()=>[je(M(_,{size:"18",component:h(gt),class:"transform -rotate-45"},null,8,["component"]),[[Oe,h(oe)]]),je(M(_,{size:"18",component:h(gt)},null,8,["component"]),[[Oe,!h(oe)]])]),_:1}),he("div",{style:Te("background-image: url("+h(_n)("cafe.png")+")")},[(ce(),ge("svg",{ref_key:"svg",ref:i,class:"w-full",style:Te(h(r)==="inner:true"?"height: calc(100vh - "+(h(n)!=="s"&&h(n)!=="xs"?191:167)+"px);":h(r)==="init"?"height: calc(100vh - "+(h(n)!=="s"&&h(n)!=="xs"?205:181)+"px);":"height: calc(100vh - "+(h(n)!=="s"&&h(n)!=="xs"?205:181)+"px);")},null,4)),M(Gn,{style:Te(h(n)!=="s"&&h(n)!=="xs"?"width: calc(100vw - 400px)":"width: calc(100vw - 0px)"),flex:"","flex-wrap":"","text-xl":"","p-2":"","gap-1":"","rounded-md":"","bg-main":"",shadow:"","transition-opacity":"","duration-200":"",class:W(h(oe)?"opacity-90":"opacity-0 pointer-events-none"),"storage-key":"slidev-drawing-pos",initial:{x:280,y:105}},{default:$(()=>[M(Q,null,{default:$(()=>[M(y,{type:"success",dashed:"",class:W({"opacity-60":h(K)!=="stylus"}),onClick:c[1]||(c[1]=b=>w("stylus"))},{default:$(()=>[$s]),_:1},8,["class"]),M(y,{type:"success",dashed:"",class:W({"opacity-60":h(K)!=="draw"}),onClick:c[2]||(c[2]=b=>w("draw"))},{default:$(()=>[Ds]),_:1},8,["class"]),M(y,{type:"success",dashed:"",class:W({"opacity-60":h(K)!=="line"}),onClick:c[3]||(c[3]=b=>w("line"))},{default:$(()=>[Rs]),_:1},8,["class"]),M(y,{type:"success",dashed:"",class:W({"opacity-60":h(K)!=="arrow"}),onClick:c[4]||(c[4]=b=>w("arrow"))},{default:$(()=>[zs]),_:1},8,["class"]),M(y,{type:"success",dashed:"",class:W({"opacity-60":h(K)!=="ellipse"}),onClick:c[5]||(c[5]=b=>w("ellipse"))},{default:$(()=>[Fs]),_:1},8,["class"]),M(y,{type:"success",dashed:"",class:W({"opacity-60":h(K)!=="rectangle"}),onClick:c[6]||(c[6]=b=>w("rectangle"))},{default:$(()=>[Ts]),_:1},8,["class"]),M(y,{type:"success",dashed:"",class:W({"opacity-60":h(T).dasharray!=="4"}),onClick:c[7]||(c[7]=b=>L("4"))},{default:$(()=>[Bs]),_:1},8,["class"]),M(y,{type:"success",dashed:"",class:W({"opacity-60":h(T).dasharray!=="1 7"}),onClick:c[8]||(c[8]=b=>L("1 7"))},{default:$(()=>[Ls]),_:1},8,["class"]),M(y,{"w-100":"",class:W({"opacity-90":!0})},{default:$(()=>[M(B,{"w-100":"","default-value":4,step:.5,max:10,min:0,"onUpdate:value":P},null,8,["step"])]),_:1}),(ce(!0),ge(ft,null,pn(h(qe),b=>(ce(),wn(y,{key:b,dashed:"",type:h(T).color!==b?"default":"success",onClick:ve=>z(b)},{default:$(()=>[he("div",{class:W(["w-6 h-6 transition-all transform border border-gray-400/50",h(T).color!==b?"rounded-1/2 scale-85":"rounded-md"]),style:Te(h(ae)?{background:b}:{borderColor:b})},null,6)]),_:2},1032,["type","onClick"]))),128)),M(y,{type:h(st)?"success":"default",dashed:"",disabled:!h(st),onClick:c[9]||(c[9]=b=>d())},{default:$(()=>[As]),_:1},8,["type","disabled"]),M(y,{type:h(rt)?"success":"default",dashed:"",disabled:!h(rt),onClick:c[10]||(c[10]=b=>l())},{default:$(()=>[Vs]),_:1},8,["type","disabled"]),M(y,{type:h(Be)?"success":"default",dashed:"",disabled:!h(Be),onClick:c[11]||(c[11]=b=>h(zt)())},{default:$(()=>[Is]),_:1},8,["type","disabled"]),M(y,{type:h(Be)?"success":"default",dashed:"",disabled:!h(Be),onClick:c[12]||(c[12]=b=>f())},{default:$(()=>[Ns]),_:1},8,["type","disabled"]),M(y,{dashed:"",onClick:c[13]||(c[13]=b=>oe.value=!h(oe))},{default:$(()=>[je(M(_,{size:"18",component:h(Un)},null,8,["component"]),[[Oe,h(oe)]]),je(M(_,{size:"18",component:h(Wn),class:"transform -rotate-45"},null,8,["component"]),[[Oe,!h(oe)]])]),_:1})]),_:1})]),_:1},8,["style","class"])],4)],64)}}});typeof vt=="function"&&vt(Ft);const Js=yn(Ft,[["__scopeId","data-v-5ceb90ba"]]);export{Js as default};
