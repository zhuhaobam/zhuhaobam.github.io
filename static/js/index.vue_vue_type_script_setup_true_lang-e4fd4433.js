import{d as A,l as B,a as L,b as N,s as x,r as c,w as u,z as P,A as j,B as F,C as U,D as W,E as D,F as G,G as J,g as r,H as $,o as q,k as Q,h as X,I as Y,J as Z,N as ee}from"./main-6944ab67.js";import{u as te}from"./tags-f9e3f6c5.js";import{_ as ne}from"./Menu-c1d7760c.js";const ce=A({__name:"index",props:{collapsedIconSize:{default:24},collapsedWidth:{default:48},iconSize:{default:20},indent:{default:32},rootIndent:{default:32}},setup(I){const a=I,{t:S}=B(),i=te(),z=L(),K=N(),{locale:O,collapsed:p}=x(K),{theme:v,menuTheme:l}=x(z),m=c({}),h=c(0);u(p,(e,n)=>{if(p.value){const t=a.collapsedIconSize<l.value.minHeight?l.value.minHeight:a.collapsedIconSize+l.value.compensate;m.value={itemHeight:t+"px"},h.value=a.collapsedIconSize}else m.value={itemHeight:l.value.minHeight+"px"},h.value=l.value.minHeight},{immediate:!0,deep:!0});const R=P.map(e=>{var t;return((t=e==null?void 0:e.meta)==null?void 0:t.layout)===!1?e:j([e])[0]}),T=F(R),w=U(T),f=c([]);u(O,(e,n)=>{f.value=W(w,S)},{immediate:!0,deep:!0});const y=c(v!==null);u(v,(e,n)=>{y.value=e!==null},{immediate:!0,deep:!0});const o=D();if(i.hasEmpty){const e=o.matched[o.matched.length-1];e.path.indexOf(":")!==-1&&(e.params=o.params),i.addTag(e)}const g=o.matched,_=c(o.name),H=(g&&g.length?g.map(e=>e.name):[]).filter(e=>e),d=G({openKeys:H}),M=J(()=>r(_));$(()=>{const e=o.matched[o.matched.length-1];e.path.indexOf(":")!==-1&&(e.params=o.params),console.log("currentRoute.fullPath.onMounted",e),i.addTag(e)}),u(()=>o.fullPath,()=>{var s;const e=o.matched;d.openKeys=e.map(E=>E.name);const n=((s=o.meta)==null?void 0:s.activeMenu)||"";_.value=n||o.name;const t=e[e.length-1];t.path.indexOf(":")!==-1&&(t.params=o.params),console.log("currentRoute.fullPath.addTag",t),i.addTag(t)});function C(e,n){/http(s)?:/.test(e)&&window.open(e)}function V(e){if(!e)return;const n=e.find(s=>d.openKeys.indexOf(s)===-1),t=b(n);d.openKeys=t?n?[n]:[]:e}function b(e){if(!e)return!1;const n=[];for(const{children:t,key:s}of r(f))t&&t.length&&n.push(s);return n.includes(e)}function k(e){return Y(ee,Z(e.menuRenderIcon))}return(e,n)=>{const t=ne;return q(),Q("div",null,[X(t,{"theme-overrides":m.value,accordion:"",options:f.value,inverted:y.value,mode:"vertical",collapsed:r(p),"collapsed-width":a.collapsedWidth,"collapsed-icon-size":h.value,"icon-size":a.iconSize,indent:a.indent,"root-indent":a.rootIndent,"expanded-keys":d.openKeys,value:r(M),"render-icon":k,"onUpdate:value":C,"onUpdate:expandedKeys":V},null,8,["theme-overrides","options","inverted","collapsed","collapsed-width","collapsed-icon-size","icon-size","indent","root-indent","expanded-keys","value"])])}}});export{ce as _};
