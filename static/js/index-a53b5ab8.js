import{_ as X}from"./fullscreen-outlined-f4593485.js";import{V as Y,d as h,r as k,I as C,$ as Z,o as a,k as d,e as r,bE as q,m as G,F as K,a as Q,s as W,am as ee,g as v,b as m,f as u,N as $,t as x,a8 as B,ar as oe,bu as R,c as A,h as O,j as te,bF as I,J as ne,aZ as re}from"./main-1e2ede2c.js";import{u as se}from"./tags-9761e6b6.js";import{_ as le}from"./Tag-60dafeed.js";import{_ as ae}from"./Tooltip-5699b717.js";import{_ as ie}from"./Dropdown-ddf3c53a.js";import"./Popover-2a6b95db.js";import"./on-fonts-ready-0429038e.js";import"./use-merged-state-a39bea32.js";import"./use-compitable-18d46af3.js";const ce=Object.assign(Object.assign({},Y.props),{trigger:String,xScrollable:Boolean,onScroll:Function}),ue=h({name:"Scrollbar",props:ce,setup(){const i=k(null);return Object.assign(Object.assign({},{scrollTo:(...o)=>{var s;(s=i.value)===null||s===void 0||s.scrollTo(o[0],o[1])},scrollBy:(...o)=>{var s;(s=i.value)===null||s===void 0||s.scrollBy(o[0],o[1])}}),{scrollbarInstRef:i})},render(){return C(Z,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),de=ue,pe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},he=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M244 400L100 256l144-144"},null,-1),_e=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M120 256h292"},null,-1),me=[he,_e],ke=h({name:"ArrowBackOutline",render:function(p,o){return a(),d("svg",pe,me)}}),fe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ge=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 244l144-144l144 144"},null,-1),we=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M256 120v292"},null,-1),ve=[ge,we],xe=h({name:"ArrowUp",render:function(p,o){return a(),d("svg",fe,ve)}}),be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ce=r("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1),$e=[Ce],Me=h({name:"Close",render:function(p,o){return a(),d("svg",be,$e)}}),Se={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},je=q('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M432 320v112H320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.8 421.77L304 304"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M80 192V80h112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.2 90.23L208 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M320 80h112v112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.77 90.2L304 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M192 432H80V320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.23 421.8L208 304"></path>',8),ye=[je],Te=h({name:"Expand",render:function(p,o){return a(),d("svg",Se,ye)}}),Be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Re=r("path",{d:"M320 146s24.36-12-64-12a160 160 0 1 0 160 160",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),Ae=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 58l80 80l-80 80"},null,-1),Oe=[Re,Ae],Ie=h({name:"Refresh",render:function(p,o){return a(),d("svg",Be,Oe)}}),Ne={"pt-5":"",pb7:"","pl-5":"",flex:"","flex-nowrap":""},Ve={key:0},Ye=h({__name:"index",emits:["fullScreenDo"],setup(i,{emit:p}){const{t:o}=G(),s=()=>{p("fullScreenDo")},f=K(),l=se(),N=Q(),{activeTag:c,tags:b}=W(l);console.log("A",c.value,b.value),ee(()=>{if(l.hasEmpty){const e=f.matched[f.matched.length-1];e.path.indexOf(":")!==-1&&(e.params=f.params),l.addTag(e),console.log("tag.hasEmpty",f.matched)}else console.log("tag.matched",f.matched)});const V=e=>{l.setActiveTag(e),R.push(e)},M=k([]),g=k(!1),S=k(0),j=k(0),y=k(),E=()=>{g.value=!1},L=e=>{g.value=!1;const t=y.value;t&&(String(e)==="tag.close.other"&&l.removeOtherTag(t.path),String(e)==="tag.close.me"&&l.removeTag(t.path),String(e)==="tag.fresh"&&N.setReload(),String(e)==="tag.open"&&(l.setActiveTag(t.path),R.push(t.path)),String(e)==="tag.full.screen"&&s())},w=e=>()=>C($,null,{default:()=>C(e)}),D=async(e,t)=>{e.preventDefault(),g.value=!1,re().then(()=>{g.value=!0,S.value=e.clientX,j.value=e.clientY}),y.value=t,M.value=[{label:o("tag.open"),key:"tag.open",disabled:c.value===t.path,icon:w(xe)},{label:o("tag.fresh"),key:"tag.fresh",disabled:c.value!==t.path,icon:w(Ie)},{label:o("tag.close.other"),key:"tag.close.other",disabled:c.value!==t.path||!l.leastTwo,icon:w(ke)},{label:o("tag.close.me"),key:"tag.close.me",disabled:c.value!==t.path||!l.leastTwo,icon:w(Me)},{label:o("tag.full.screen"),key:"tag.full.screen",disabled:c.value!==t.path,icon:w(Te)}]};function F(e){return C(ne(e))}return(e,t)=>{const z=X,H=ae,U=le,J=de,P=ie;return a(),d(B,null,[v(J,{"x-scrollable":""},{default:m(()=>[r("div",Ne,[v(H,{placement:"bottom"},{trigger:m(()=>[v(u($),{size:"18","mx-3":"","my-4":"","cursor-pointer":"","hover:color-primary":"",onClick:t[0]||(t[0]=n=>s())},{default:m(()=>[v(z)]),_:1})]),default:m(()=>[r("span",null,x(e.$t("tag.full.screen")),1)]),_:1}),r("div",null,"A"+x(u(b).length)+"/",1),r("div",null,"AA"+x(u(c))+"/",1),(a(!0),d(B,null,oe(u(b),n=>(a(),A(U,{key:n.path,"mx-3":"","cursor-pointer":"","hover:color-primary":"",type:u(c)===n.path?"primary":"default",closable:u(b).length>1,onClick:_=>V(n.path),onClose:I(_=>u(l).removeTag(n.path),["stop"]),onContextmenu:I(_=>D(_,n),["prevent"])},{icon:m(()=>[n.meta.icon?(a(),A(u($),{key:0,component:F(n.meta.icon)},null,8,["component"])):O("",!0)]),default:m(()=>{var _,T;return[te(x(e.$t((_=n.meta.breadcrumb)!=null?_:"noting"))+" ",1),n.params&&n.params.did?(a(),d("span",Ve,"("+x((T=n.params.did)!=null?T:"")+")",1)):O("",!0)]}),_:2},1032,["type","closable","onClick","onClose","onContextmenu"]))),128))])]),_:1}),v(P,{placement:"bottom-start",trigger:"manual",x:S.value,y:j.value,options:M.value,show:g.value,"on-clickoutside":E,onSelect:L},null,8,["x","y","options","show"])],64)}}});export{Ye as default};
