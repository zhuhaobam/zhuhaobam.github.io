import{_ as J}from"./fullscreen-outlined-d7a90aef.js";import{O as Q,d,r as m,I as v,P as W,o as s,k as c,f as a,Q as X,l as Y,b as q,s as G,h as g,e as _,g as k,N as x,t as b,R as y,S as K,T as B,c as R,i as O,U as Z,V as A,J as ee,W as oe}from"./main-2317f5a3.js";import{u as te}from"./tags-28d9158b.js";import{_ as ne}from"./Tag-a6b3ee9c.js";import{_ as re}from"./Tooltip-423ff610.js";import{_ as se}from"./Dropdown-0144eda5.js";const le=Object.assign(Object.assign({},Q.props),{trigger:String,xScrollable:Boolean,onScroll:Function}),ae=d({name:"Scrollbar",props:le,setup(){const l=m(null);return Object.assign(Object.assign({},{scrollTo:(...o)=>{var r;(r=l.value)===null||r===void 0||r.scrollTo(o[0],o[1])},scrollBy:(...o)=>{var r;(r=l.value)===null||r===void 0||r.scrollBy(o[0],o[1])}}),{scrollbarInstRef:l})},render(){return v(W,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),ie=ae,ce={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ue=a("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M244 400L100 256l144-144"},null,-1),de=a("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M120 256h292"},null,-1),pe=[ue,de],he=d({name:"ArrowBackOutline",render:function(u,o){return s(),c("svg",ce,pe)}}),_e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ke=a("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 244l144-144l144 144"},null,-1),me=a("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M256 120v292"},null,-1),we=[ke,me],fe=d({name:"ArrowUp",render:function(u,o){return s(),c("svg",_e,we)}}),ge={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ve=a("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1),xe=[ve],be=d({name:"Close",render:function(u,o){return s(),c("svg",ge,xe)}}),Ce={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},$e=X('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M432 320v112H320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.8 421.77L304 304"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M80 192V80h112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.2 90.23L208 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M320 80h112v112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.77 90.2L304 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M192 432H80V320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.23 421.8L208 304"></path>',8),Se=[$e],Me=d({name:"Expand",render:function(u,o){return s(),c("svg",Ce,Se)}}),je={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Te=a("path",{d:"M320 146s24.36-12-64-12a160 160 0 1 0 160 160",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),ye=a("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 58l80 80l-80 80"},null,-1),Be=[Te,ye],Re=d({name:"Refresh",render:function(u,o){return s(),c("svg",je,Be)}}),Oe={"pt-5":"",pb7:"","pl-5":"",flex:"","flex-nowrap":""},Ae={key:0},Fe=d({__name:"index",emits:["fullScreenDo"],setup(l,{emit:u}){const{t:o}=Y(),r=()=>{u("fullScreenDo")},i=te(),I=q(),{activeTag:p,tags:C}=G(i),N=e=>{i.setActiveTag(e),B.push(e)},$=m([]),w=m(!1),S=m(0),M=m(0),j=m(),V=()=>{w.value=!1},L=e=>{w.value=!1;const t=j.value;t&&(String(e)==="tag.close.other"&&i.removeOtherTag(t.path),String(e)==="tag.close.me"&&i.removeTag(t.path),String(e)==="tag.fresh"&&I.setReload(),String(e)==="tag.open"&&(i.setActiveTag(t.path),B.push(t.path)),String(e)==="tag.full.screen"&&r())},f=e=>()=>v(x,null,{default:()=>v(e)}),D=async(e,t)=>{e.preventDefault(),w.value=!1,oe().then(()=>{w.value=!0,S.value=e.clientX,M.value=e.clientY}),j.value=t,$.value=[{label:o("tag.open"),key:"tag.open",disabled:p.value===t.path,icon:f(fe)},{label:o("tag.fresh"),key:"tag.fresh",disabled:p.value!==t.path,icon:f(Re)},{label:o("tag.close.other"),key:"tag.close.other",disabled:p.value!==t.path||!i.leastTwo,icon:f(he)},{label:o("tag.close.me"),key:"tag.close.me",disabled:p.value!==t.path||!i.leastTwo,icon:f(be)},{label:o("tag.full.screen"),key:"tag.full.screen",disabled:p.value!==t.path,icon:f(Me)}]};function E(e){return v(ee(e))}return(e,t)=>{const F=J,U=re,z=ne,H=ie,P=se;return s(),c(y,null,[g(H,{"x-scrollable":""},{default:_(()=>[a("div",Oe,[g(U,{placement:"bottom"},{trigger:_(()=>[g(k(x),{size:"18","mx-3":"","my-4":"","cursor-pointer":"","hover:color-primary":"",onClick:t[0]||(t[0]=n=>r())},{default:_(()=>[g(F)]),_:1})]),default:_(()=>[a("span",null,b(e.$t("tag.full.screen")),1)]),_:1}),(s(!0),c(y,null,K(k(C),n=>(s(),R(z,{key:n.path,"mx-3":"","cursor-pointer":"","hover:color-primary":"",type:k(p)===n.path?"primary":"default",closable:k(C).length>1,onClick:h=>N(n.path),onClose:A(h=>k(i).removeTag(n.path),["stop"]),onContextmenu:A(h=>D(h,n),["prevent"])},{icon:_(()=>[n.meta.icon?(s(),R(k(x),{key:0,component:E(n.meta.icon)},null,8,["component"])):O("",!0)]),default:_(()=>{var h,T;return[Z(b(e.$t((h=n.meta.breadcrumb)!=null?h:"noting"))+" ",1),n.params&&n.params.did?(s(),c("span",Ae,"("+b((T=n.params.did)!=null?T:"")+")",1)):O("",!0)]}),_:2},1032,["type","closable","onClick","onClose","onContextmenu"]))),128))])]),_:1}),g(P,{placement:"bottom-start",trigger:"manual",x:S.value,y:M.value,options:$.value,show:w.value,"on-clickoutside":V,onSelect:L},null,8,["x","y","options","show"])],64)}}});export{Fe as _};
