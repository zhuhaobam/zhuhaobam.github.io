import{ak as j,al as D,aG as H,c as N,T as E,a as y,d as h,b as I,u as R,r as m,e as T,h as _,ax as V,aV as M,a8 as P,o as A,k as q,l as v,m as z,q as x,n as F,ag as $,z as G,_ as U}from"./main-8840c7eb.js";import{u as Z}from"./tags-227a7921.js";import{g as J}from"./assets-kit-bc859cd0.js";import{_ as K}from"./Avatar-22bf75e4.js";import{_ as Q}from"./Tooltip-7c9bce53.js";import{_ as W}from"./Dropdown-1b87d144.js";import"./Tag-880e537a.js";import"./Popover-92080b5f.js";import"./Follower-a37597bf.js";import"./next-frame-once-c806eabc.js";import"./on-fonts-ready-c6e1bba8.js";import"./use-merged-state-556311e1.js";import"./use-compitable-5d08eea0.js";import"./ChevronRight-02b15f3e.js";const X=j({name:"Ellipsis",common:D,peers:{Tooltip:H}}),Y=X,ee=N("ellipsis",{overflow:"hidden"},[E("line-clamp",`
 white-space: nowrap;
 display: inline-block;
 vertical-align: bottom;
 max-width: 100%;
 `),y("line-clamp",`
 display: -webkit-inline-box;
 -webkit-box-orient: vertical;
 `),y("cursor-pointer",`
 cursor: pointer;
 `)]);function w(t){return`${t}-ellipsis--line-clamp`}function S(t,o){return`${t}-ellipsis--cursor-${o}`}const te=Object.assign(Object.assign({},R.props),{expandTrigger:String,lineClamp:[Number,String],tooltip:{type:[Boolean,Object],default:!0}}),ne=h({name:"Ellipsis",inheritAttrs:!1,props:te,setup(t,{slots:o,attrs:a}){const{mergedClsPrefixRef:i}=I(t),r=R("Ellipsis","-ellipsis",ee,Y,t,i),l=m(null),g=m(null),u=m(null),c=m(!1),d=T(()=>{const{lineClamp:e}=t,{value:n}=c;return e!==void 0?{textOverflow:"","-webkit-line-clamp":n?"":e}:{textOverflow:n?"":"ellipsis","-webkit-line-clamp":""}});function b(){let e=!1;const{value:n}=c;if(n)return!0;const{value:s}=l;if(s){const{lineClamp:p}=t;if(O(s),p!==void 0)e=s.scrollHeight<=s.offsetHeight;else{const{value:C}=g;C&&(e=C.getBoundingClientRect().width<=s.getBoundingClientRect().width)}B(s,e)}return e}const k=T(()=>t.expandTrigger==="click"?()=>{var e;const{value:n}=c;n&&((e=u.value)===null||e===void 0||e.setShow(!1)),c.value=!n}:void 0),L=()=>_("span",Object.assign({},V(a,{class:[`${i.value}-ellipsis`,t.lineClamp!==void 0?w(i.value):void 0,t.expandTrigger==="click"?S(i.value,"pointer"):void 0],style:d.value}),{ref:"triggerRef",onClick:k.value,onMouseenter:t.expandTrigger==="click"?b:void 0}),t.lineClamp?o:_("span",{ref:"triggerInnerRef"},o));function O(e){if(!e)return;const n=d.value,s=w(i.value);t.lineClamp!==void 0?f(e,s,"add"):f(e,s,"remove");for(const p in n)e.style[p]!==n[p]&&(e.style[p]=n[p])}function B(e,n){const s=S(i.value,"pointer");t.expandTrigger==="click"&&!n?f(e,s,"add"):f(e,s,"remove")}function f(e,n,s){s==="add"?e.classList.contains(n)||e.classList.add(n):e.classList.contains(n)&&e.classList.remove(n)}return{mergedTheme:r,triggerRef:l,triggerInnerRef:g,tooltipRef:u,handleClick:k,renderTrigger:L,getTooltipDisabled:b}},render(){var t;const{tooltip:o,renderTrigger:a,$slots:i}=this;if(o){const{mergedTheme:r}=this;return _(Q,Object.assign({ref:"tooltipRef",placement:"top"},o,{getDisabled:this.getTooltipDisabled,theme:r.peers.Tooltip,themeOverrides:r.peerOverrides.Tooltip}),{trigger:a,default:(t=i.tooltip)!==null&&t!==void 0?t:i.default})}else return a()}}),se={class:"avatar"},ie=$(" Z "),oe=h({name:"HeadCenter"}),le=h({...oe,setup(t){const o=M(),a=Z(),i=P(),r=l=>{switch(l){case 1:i.push({name:"system-user"});break;case 2:i.push({name:"system-setting"});break;case 3:o.setToken(""),a.clear(),i.push({name:"login"});break}};return(l,g)=>{const u=K,c=ne,d=W;return A(),q(d,{trigger:"hover",options:[{label:l.$t("page.user"),key:1},{label:l.$t("page.setting"),key:2},{label:l.$t("page.logout"),key:3}],onSelect:r},{default:v(()=>[z("div",se,[x(u,{round:"",src:F(J)("cafe.png")},{default:v(()=>[ie]),_:1},8,["src"]),x(c,{style:{width:"50px"}},{default:v(()=>[$(G(l.$t("project.default")),1)]),_:1})])]),_:1},8,["options"])}}});const Ce=U(le,[["__scopeId","data-v-08ba8509"]]);export{Ce as default};
