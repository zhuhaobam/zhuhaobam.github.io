import{_ as Y}from"./fullscreen-outlined-62b55199.js";import{p as q,d as _,r as g,t as M,ac as G,e as s,v as d,x as u,ad as J,y as K,a2 as Q,o as W,i as Z,X as ee,u as oe,h as $,g as w,j as c,f as S,N as j,z as y,l as T,I as V,ae as te,C as ne,af as z,ag as D,a5 as re,ah as se}from"./main-a43f7d35.js";import{_ as le}from"./Tag-507eb128.js";import{_ as ae}from"./Tooltip-9dc8f61c.js";import{_ as ie}from"./Dropdown-ae7af6b1.js";const ce=Object.assign(Object.assign({},q.props),{trigger:String,xScrollable:Boolean,onScroll:Function}),de=_({name:"Scrollbar",props:ce,setup(){const p=g(null);return Object.assign(Object.assign({},{scrollTo:(...r)=>{var l;(l=p.value)===null||l===void 0||l.scrollTo(r[0],r[1])},scrollBy:(...r)=>{var l;(l=p.value)===null||l===void 0||l.scrollBy(r[0],r[1])}}),{scrollbarInstRef:p})},render(){return M(G,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),ue=de,pe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},he=u("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M244 400L100 256l144-144"},null,-1),_e=u("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M120 256h292"},null,-1),ke=[he,_e],me=_({name:"ArrowBackOutline",render:function(h,r){return s(),d("svg",pe,ke)}}),we={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ge=u("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 244l144-144l144 144"},null,-1),fe=u("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M256 120v292"},null,-1),ve=[ge,fe],xe=_({name:"ArrowUp",render:function(h,r){return s(),d("svg",we,ve)}}),be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ce=u("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1),$e=[Ce],ye=_({name:"Close",render:function(h,r){return s(),d("svg",be,$e)}}),Me={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Se=J('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M432 320v112H320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.8 421.77L304 304"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M80 192V80h112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.2 90.23L208 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M320 80h112v112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.77 90.2L304 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M192 432H80V320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.23 421.8L208 304"></path>',8),je=[Se],Te=_({name:"Expand",render:function(h,r){return s(),d("svg",Me,je)}}),Be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Re=u("path",{d:"M320 146s24.36-12-64-12a160 160 0 1 0 160 160",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),Ie=u("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 58l80 80l-80 80"},null,-1),Ne=[Re,Ie],Oe=_({name:"Refresh",render:function(h,r){return s(),d("svg",Be,Ne)}}),Ae={flex:"","items-center":"","flex-nowrap":""},Le={key:0},Ve={key:1},ze={key:2},Xe=_({__name:"index",props:{screen:{default:"xl"}},emits:["full-screen-do"],setup(p,{emit:h}){const{t:r}=K(),l=Q();W(()=>{var x,b,C,n;const e=l.matched,t=e[e.length-1],o=t.meta,k={path:t.path,params:l.params,breadcrumb:(x=o==null?void 0:o.breadcrumb)!=null?x:"",noi18n:(b=o==null?void 0:o.noi18n)!=null?b:"no",title:(C=o==null?void 0:o.title)!=null?C:"",icon:(n=o==null?void 0:o.icon)!=null?n:""};i.addTag(k)});const a=Z("provide-screen"),B=()=>{h("full-screen-do")},i=ee(),E=oe(),F=e=>{z.push(e)},R=g([]),f=g(!1),I=g(0),N=g(0),O=g(),H=()=>{f.value=!1},U=e=>{f.value=!1;const t=O.value;t&&(String(e)==="tag.close.other"&&i.removeOtherTag(t.path),String(e)==="tag.close.me"&&i.removeTag(t.path),String(e)==="tag.fresh"&&E.settingReload(),String(e)==="tag.open"&&z.push(t.path),String(e)==="tag.full.screen"&&B())},v=e=>()=>M(j,null,{default:()=>M(e)}),X=async(e,t)=>{e.preventDefault(),f.value=!1,se().then(()=>{f.value=!0,I.value=e.clientX,N.value=e.clientY}),O.value=t;const o=i.getActiveTag,k=[{label:r("tag.open"),key:"tag.open",disabled:o===t.path,icon:v(xe)},{label:r("tag.fresh"),key:"tag.fresh",disabled:o!==t.path,icon:v(Oe)},{label:r("tag.close.other"),key:"tag.close.other",disabled:o!==t.path||!i.leastTwo,icon:v(me)},{label:r("tag.close.me"),key:"tag.close.me",disabled:o!==t.path||!i.leastTwo,icon:v(ye)}];(a==null?void 0:a.value)!=="xs"&&(a==null?void 0:a.value)!=="s"&&k.push({label:r("tag.full.screen"),key:"tag.full.screen",disabled:o!==t.path,icon:v(Te)}),R.value=k};function P(e){return M(re(e))}return(e,t)=>{const o=Y,k=ae,x=le,b=ue,C=ie;return s(),d(V,null,[u("div",{style:ne(c(a)!=="xs"&&c(a)!=="s"?"":"margin: 11px 20px")},[$(b,{style:{width:"calc(100vw - 40px)"},"x-scrollable":""},{default:w(()=>[u("div",Ae,[c(a)!=="xs"&&c(a)!=="s"?(s(),S(k,{key:0,placement:"bottom"},{trigger:w(()=>[$(c(j),{size:"18","mx-3":"","my-4":"","cursor-pointer":"","hover:color-primary":"",onClick:t[0]||(t[0]=n=>B())},{default:w(()=>[$(o)]),_:1})]),default:w(()=>[u("span",null,y(e.$t("tag.full.screen")),1)]),_:1})):T("",!0),(s(!0),d(V,null,te(c(i).getTags,n=>(s(),S(x,{key:n.path,"mx-3":"","cursor-pointer":"","hover:color-primary":"",type:c(i).getActiveTag===n.path?"primary":"default",closable:c(i).getTags.length>1,onClick:m=>F(n.path),onClose:D(m=>c(i).removeTag(n.path),["stop"]),onContextmenu:D(m=>X(m,n),["prevent"])},{icon:w(()=>[n.icon?(s(),S(c(j),{key:0,component:P(n.icon)},null,8,["component"])):T("",!0)]),default:w(()=>{var m,A,L;return[n.noi18n==="no"?(s(),d("span",Le,y(e.$t((m=n.breadcrumb)!=null?m:"tag.default")),1)):(s(),d("span",Ve,y((A=n.title)!=null?A:e.$t("tag.default")),1)),n.params&&n.params.did?(s(),d("span",ze,"("+y((L=n.params.did)!=null?L:"")+")",1)):T("",!0)]}),_:2},1032,["type","closable","onClick","onClose","onContextmenu"]))),128))])]),_:1})],4),$(C,{placement:"bottom-start",trigger:"manual",x:I.value,y:N.value,options:R.value,show:f.value,"on-clickoutside":H,onSelect:U},null,8,["x","y","options","show"])],64)}}});export{Xe as _};
