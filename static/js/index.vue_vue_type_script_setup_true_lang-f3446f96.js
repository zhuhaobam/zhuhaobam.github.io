import{d as E,p as j,a as A,b as B,s as _,r as c,w as r,B as L,C as N,D,E as F,F as U,c as W,G,H as J,i as d,e as P,m as $,j as q,I as Q,J as X,N as Y}from"./main-25752506.js";import{u as Z}from"./tags-aa1c50ed.js";import{l as ee}from"./lodash-51f18749.js";import{_ as ne}from"./Menu-4c40aaf9.js";const le=E({__name:"index",props:{collapsedIconSize:{default:24},collapsedWidth:{default:48},iconSize:{default:20},indent:{default:32},rootIndent:{default:32}},setup(I){const o=I,{t:S}=j(),x=Z(),K=A(),z=B(),{locale:w,collapsed:p}=_(z),{theme:v,menuTheme:i}=_(K),m=c({}),f=c(0);r(p,(e,n)=>{if(p.value){const t=o.collapsedIconSize<i.value.minHeight?i.value.minHeight:o.collapsedIconSize+i.value.compensate;m.value={itemHeight:t+"px"},f.value=o.collapsedIconSize}else m.value={itemHeight:i.value.minHeight+"px"},f.value=i.value.minHeight},{immediate:!0,deep:!0});const H=L.map(e=>{var t;return((t=e==null?void 0:e.meta)==null?void 0:t.layout)===!1?e:N([e])[0]}),O=D(H),R=F(O),h=c([]);r(w,(e,n)=>{h.value=U(R,S)},{immediate:!0,deep:!0});const g=c(v!==null);r(v,(e,n)=>{g.value=e!==null},{immediate:!0,deep:!0});const s=W(),a=ee.exports.cloneDeep(s.matched),y=c(s.name),C=(a&&a.length?a.map(e=>e.name):[]).filter(e=>e),u=G({openKeys:C}),M=J(()=>d(y));r(()=>s.fullPath,()=>{var t;u.openKeys=a.map(l=>l.name);const e=((t=s.meta)==null?void 0:t.activeMenu)||"";y.value=e||s.name;const n=a[a.length-1];n.path.indexOf(":")!==-1&&(n.params=s.params),x.addTag(n)});function T(e,n){/http(s)?:/.test(e)&&window.open(e)}function V(e){if(!e)return;const n=e.find(l=>u.openKeys.indexOf(l)===-1),t=b(n);u.openKeys=t?n?[n]:[]:e}function b(e){if(!e)return!1;const n=[];for(const{children:t,key:l}of d(h))t&&t.length&&n.push(l);return n.includes(e)}function k(e){return Q(Y,X(e.menuRenderIcon))}return(e,n)=>{const t=ne;return P(),$("div",null,[q(t,{"theme-overrides":m.value,accordion:"",options:h.value,inverted:g.value,mode:"vertical",collapsed:d(p),"collapsed-width":o.collapsedWidth,"collapsed-icon-size":f.value,"icon-size":o.iconSize,indent:o.indent,"root-indent":o.rootIndent,"expanded-keys":u.openKeys,value:d(M),"render-icon":k,"onUpdate:value":T,"onUpdate:expandedKeys":V},null,8,["theme-overrides","options","inverted","collapsed","collapsed-width","collapsed-icon-size","icon-size","indent","root-indent","expanded-keys","value"])])}}});export{le as _};
