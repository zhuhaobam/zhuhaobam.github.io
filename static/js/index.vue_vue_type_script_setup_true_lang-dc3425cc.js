import{_ as Q}from"./fullscreen-outlined-ed403e98.js";import{O as W,d as h,r as k,I as b,P as X,o as a,l as u,f as r,Q as Y,m as q,F as G,b as K,s as Z,w as ee,R as oe,h as g,e as m,g as c,N as $,t as v,S as B,T as te,U as R,c as A,i as O,k as ne,V as I,J as re,W as se}from"./main-6ba0d164.js";import{u as le}from"./tags-b2ee69cb.js";import{_ as ae}from"./Tag-07b5d3cd.js";import{_ as ie}from"./Tooltip-59537699.js";import{_ as ce}from"./Dropdown-df980b14.js";const ue=Object.assign(Object.assign({},W.props),{trigger:String,xScrollable:Boolean,onScroll:Function}),de=h({name:"Scrollbar",props:ue,setup(){const i=k(null);return Object.assign(Object.assign({},{scrollTo:(...t)=>{var s;(s=i.value)===null||s===void 0||s.scrollTo(t[0],t[1])},scrollBy:(...t)=>{var s;(s=i.value)===null||s===void 0||s.scrollBy(t[0],t[1])}}),{scrollbarInstRef:i})},render(){return b(X,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),pe=de,he={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},_e=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M244 400L100 256l144-144"},null,-1),me=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M120 256h292"},null,-1),ke=[_e,me],we=h({name:"ArrowBackOutline",render:function(d,t){return a(),u("svg",he,ke)}}),fe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ge=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 244l144-144l144 144"},null,-1),ve=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M256 120v292"},null,-1),xe=[ge,ve],be=h({name:"ArrowUp",render:function(d,t){return a(),u("svg",fe,xe)}}),Ce={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},$e=r("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1),Me=[$e],Se=h({name:"Close",render:function(d,t){return a(),u("svg",Ce,Me)}}),Te={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},je=Y('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M432 320v112H320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.8 421.77L304 304"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M80 192V80h112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.2 90.23L208 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M320 80h112v112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M421.77 90.2L304 208"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M192 432H80V320"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M90.23 421.8L208 304"></path>',8),ye=[je],Be=h({name:"Expand",render:function(d,t){return a(),u("svg",Te,ye)}}),Re={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ae=r("path",{d:"M320 146s24.36-12-64-12a160 160 0 1 0 160 160",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),Oe=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 58l80 80l-80 80"},null,-1),Ie=[Ae,Oe],Ne=h({name:"Refresh",render:function(d,t){return a(),u("svg",Re,Ie)}}),Ve={"pt-5":"",pb7:"","pl-5":"",flex:"","flex-nowrap":""},Le={key:0},Pe=h({__name:"index",emits:["fullScreenDo"],setup(i,{emit:d}){const{t}=q(),s=()=>{d("fullScreenDo")},x=G(),l=le(),N=K(),{activeTag:p,tags:C}=Z(l);ee(()=>l.getTags,(e,o)=>{console.log("tags watch ",e,o)}),oe(()=>{const e=x.matched[x.matched.length-1];e.path.indexOf(":")!==-1&&(e.params=x.params),l.addTag(e),console.log("tags onMounted matched",x.matched)});const V=e=>{l.setActiveTag(e),R.push(e)},M=k([]),w=k(!1),S=k(0),T=k(0),j=k(),L=()=>{w.value=!1},D=e=>{w.value=!1;const o=j.value;o&&(String(e)==="tag.close.other"&&l.removeOtherTag(o.path),String(e)==="tag.close.me"&&l.removeTag(o.path),String(e)==="tag.fresh"&&N.setReload(),String(e)==="tag.open"&&(l.setActiveTag(o.path),R.push(o.path)),String(e)==="tag.full.screen"&&s())},f=e=>()=>b($,null,{default:()=>b(e)}),F=async(e,o)=>{e.preventDefault(),w.value=!1,se().then(()=>{w.value=!0,S.value=e.clientX,T.value=e.clientY}),j.value=o,M.value=[{label:t("tag.open"),key:"tag.open",disabled:p.value===o.path,icon:f(be)},{label:t("tag.fresh"),key:"tag.fresh",disabled:p.value!==o.path,icon:f(Ne)},{label:t("tag.close.other"),key:"tag.close.other",disabled:p.value!==o.path||!l.leastTwo,icon:f(we)},{label:t("tag.close.me"),key:"tag.close.me",disabled:p.value!==o.path||!l.leastTwo,icon:f(Se)},{label:t("tag.full.screen"),key:"tag.full.screen",disabled:p.value!==o.path,icon:f(Be)}]};function E(e){return b(re(e))}return(e,o)=>{const U=Q,z=ie,H=ae,P=pe,J=ce;return a(),u(B,null,[g(P,{"x-scrollable":""},{default:m(()=>[r("div",Ve,[g(z,{placement:"bottom"},{trigger:m(()=>[g(c($),{size:"18","mx-3":"","my-4":"","cursor-pointer":"","hover:color-primary":"",onClick:o[0]||(o[0]=n=>s())},{default:m(()=>[g(U)]),_:1})]),default:m(()=>[r("span",null,v(e.$t("tag.full.screen")),1)]),_:1}),r("div",null,"A"+v(c(C).length)+"/",1),r("div",null,"AA"+v(c(p))+"/",1),(a(!0),u(B,null,te(c(C),n=>(a(),A(H,{key:n.path,"mx-3":"","cursor-pointer":"","hover:color-primary":"",type:c(p)===n.path?"primary":"default",closable:c(C).length>1,onClick:_=>V(n.path),onClose:I(_=>c(l).removeTag(n.path),["stop"]),onContextmenu:I(_=>F(_,n),["prevent"])},{icon:m(()=>[n.meta.icon?(a(),A(c($),{key:0,component:E(n.meta.icon)},null,8,["component"])):O("",!0)]),default:m(()=>{var _,y;return[ne(v(e.$t((_=n.meta.breadcrumb)!=null?_:"noting"))+" ",1),n.params&&n.params.did?(a(),u("span",Le,"("+v((y=n.params.did)!=null?y:"")+")",1)):O("",!0)]}),_:2},1032,["type","closable","onClick","onClose","onContextmenu"]))),128))])]),_:1}),g(J,{placement:"bottom-start",trigger:"manual",x:S.value,y:T.value,options:M.value,show:w.value,"on-clickoutside":L,onSelect:D},null,8,["x","y","options","show"])],64)}}});export{Pe as _};
