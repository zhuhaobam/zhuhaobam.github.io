import{Y as K,W as A,au as q,a5 as j,av as U,a4 as F,d as T,$ as Y,r as y,a7 as I,G as z,Z as N,aw as Z,w as J,ap as Q,a2 as X,aq as ee,ax as te,al as oe,ay as re,H as x,ar as se,az as ne,aA as ae,J as ie,o as le,c as de,b as k,e as ce,g as W,f as ue,Q as V,t as fe,_ as ve}from"./main-72de468e.js";import{u as he}from"./tags-7b576a00.js";import{g as ge}from"./assets-kit-59ffab7a.js";import{t as me}from"./Tag-634e7a46.js";import{N as pe}from"./Ellipsis-c672c911.js";import{_ as be}from"./Dropdown-4603c96b.js";import"./Tooltip-5b1c160d.js";import"./Popover-73bd8337.js";import"./Follower-f4590efc.js";import"./on-fonts-ready-440a4f5a.js";import"./use-merged-state-3b3d6ce9.js";import"./use-compitable-b67ab4d0.js";const _e=!1,ye=(e={})=>{var a;const{root:i=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(a=e.threshold)!==null&&a!==void 0?a:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof i=="string"?document.querySelector(i):i)||document.documentElement})}},L=new WeakMap,H=new WeakMap,$=new WeakMap,ze=(e,a,i)=>{if(!e)return()=>{};const s=ye(a),{root:l}=s.options;let r;const d=L.get(l);d?r=d:(r=new Map,L.set(l,r));let c,n;r.has(s.hash)?(n=r.get(s.hash),n[1].has(e)||(c=n[0],n[1].add(e),c.observe(e))):(c=new IntersectionObserver(h=>{h.forEach(f=>{if(f.isIntersecting){const g=H.get(f.target),S=$.get(f.target);g&&g(),S&&(S.value=!0)}})},s.options),c.observe(e),n=[c,new Set([e])],r.set(s.hash,n));let u=!1;const p=()=>{u||(H.delete(e),$.delete(e),u=!0,n[1].has(e)&&(n[0].unobserve(e),n[1].delete(e)),n[1].size<=0&&r.delete(s.hash),r.size||L.delete(l))};return H.set(e,p),$.set(e,i),p},xe=K("n-avatar-group"),Se=A("avatar",`
 width: var(--n-merged-size);
 height: var(--n-merged-size);
 color: #FFF;
 font-size: var(--n-font-size);
 display: inline-flex;
 position: relative;
 overflow: hidden;
 text-align: center;
 border: var(--n-border);
 border-radius: var(--n-border-radius);
 --n-merged-color: var(--n-color);
 background-color: var(--n-merged-color);
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[q(j("&","--n-merged-color: var(--n-color-modal);")),U(j("&","--n-merged-color: var(--n-color-popover);")),j("img",`
 width: 100%;
 height: 100%;
 `),F("text",`
 white-space: nowrap;
 display: inline-block;
 position: absolute;
 left: 50%;
 top: 50%;
 `),A("icon",`
 vertical-align: bottom;
 font-size: calc(var(--n-merged-size) - 6px);
 `),F("text","line-height: 1.25")]),Re=Object.assign(Object.assign({},N.props),{size:[String,Number],src:String,circle:{type:Boolean,default:void 0},objectFit:String,round:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},onError:Function,fallbackSrc:String,intersectionObserverOptions:Object,lazy:Boolean,color:String}),we=T({name:"Avatar",props:Re,setup(e){const{mergedClsPrefixRef:a,inlineThemeDisabled:i}=Y(e),s=y(!1);let l=null;const r=y(null),d=y(null),c=()=>{const{value:t}=r;if(t&&(l===null||l!==t.innerHTML)){l=t.innerHTML;const{value:o}=d;if(o){const{offsetWidth:_,offsetHeight:m}=o,{offsetWidth:v,offsetHeight:C}=t,R=.9,E=Math.min(_/v*R,m/C*R,1);t.style.transform=`translateX(-50%) translateY(-50%) scale(${E})`}}},n=I(xe,null),u=z(()=>{const{size:t}=e;if(t)return t;const{size:o}=n||{};return o||"medium"}),p=N("Avatar","-avatar",Se,Z,e,a),h=I(me,null),f=z(()=>{if(n)return!0;const{round:t,circle:o}=e;return t!==void 0||o!==void 0?t||o:h?h.roundRef.value:!1}),g=z(()=>n?!0:e.bordered||!1),S=t=>{if(!w.value)return;s.value=!0;const{onError:o}=e;o&&o(t)};J(()=>e.src,()=>s.value=!1);const M=z(()=>{const t=u.value,o=f.value,_=g.value,{color:m}=e,{self:{borderRadius:v,fontSize:C,color:R,border:E,colorModal:P,colorPopover:D},common:{cubicBezierEaseInOut:G}}=p.value;let O;return typeof t=="number"?O=`${t}px`:O=p.value.self[Q("height",t)],{"--n-font-size":C,"--n-border":_?E:"none","--n-border-radius":o?"50%":v,"--n-color":m||R,"--n-color-modal":m||P,"--n-color-popover":m||D,"--n-bezier":G,"--n-merged-size":`var(--n-avatar-size-override, ${O})`}}),b=i?X("avatar",z(()=>{const t=u.value,o=f.value,_=g.value,{color:m}=e;let v="";return t&&(typeof t=="number"?v+=`a${t}`:v+=t[0]),o&&(v+="b"),_&&(v+="c"),m&&(v+=ee(m)),v}),M,e):void 0,w=y(!e.lazy);te(()=>{if(_e)return;let t;const o=oe(()=>{t==null||t(),t=void 0,e.lazy&&(t=ze(d.value,e.intersectionObserverOptions,w))});re(()=>{o(),t==null||t()})});const B=y(!e.lazy);return{textRef:r,selfRef:d,mergedRoundRef:f,mergedClsPrefix:a,fitTextTransform:c,cssVars:i?void 0:M,themeClass:b==null?void 0:b.themeClass,onRender:b==null?void 0:b.onRender,hasLoadError:s,handleError:S,shouldStartLoading:w,loaded:B,mergedOnLoad:t=>{const{onLoad:o}=e;o==null||o(t),B.value=!0}}},render(){var e,a;const{$slots:i,src:s,mergedClsPrefix:l,lazy:r,onRender:d,mergedOnLoad:c,shouldStartLoading:n,loaded:u,hasLoadError:p}=this;d==null||d();let h;const f=!u&&!p&&((a=(e=this.$slots).placeholder)===null||a===void 0?void 0:a.call(e));return this.hasLoadError?h=x("img",{src:this.fallbackSrc,style:{objectFit:this.objectFit}}):h=se(i.default,g=>{if(g)return x(ne,{onResize:this.fitTextTransform},{default:()=>x("span",{ref:"textRef",class:`${l}-avatar__text`},g)});if(s)return x("img",{loading:"eager",src:n||u?s:void 0,onLoad:c,"data-image-src":s,onError:this.handleError,style:[{objectFit:this.objectFit},f?{height:"0",width:"0",visibility:"hidden",position:"absolute"}:""]})}),x("span",{ref:"selfRef",class:[`${l}-avatar`,this.themeClass],style:this.cssVars},h,r&&f)}}),Ce={class:"avatar"},Ee=V(" Z "),Oe=T({name:"HeadCenter"}),je=T({...Oe,setup(e){const a=ae(),i=he(),s=ie(),l=r=>{switch(r){case 1:s.push({name:"system-user"});break;case 2:s.push({name:"system-setting"});break;case 3:a.setToken(""),i.clear(),s.push({name:"login"});break;default:console.log("\u5934\u50CF\u4E0B\u62C9\u83DC\u5355\u6CA1\u6709\u5339\u914D")}};return(r,d)=>{const c=we,n=pe,u=be;return le(),de(u,{trigger:"hover",options:[{label:r.$t("page.user"),key:1},{label:r.$t("page.setting"),key:2},{label:r.$t("page.logout"),key:3}],onSelect:l},{default:k(()=>[ce("div",Ce,[W(c,{round:"",src:ue(ge)("cafe.png")},{default:k(()=>[Ee]),_:1},8,["src"]),W(n,{style:{width:"50px"}},{default:k(()=>[V(fe(r.$t("project.default")),1)]),_:1})])]),_:1},8,["options"])}}});const Ve=ve(je,[["__scopeId","data-v-55fb5d6e"]]);export{Ve as default};
